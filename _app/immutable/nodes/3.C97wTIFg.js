import{a as P,f as D,i as R,c as B}from"../chunks/BqcAzpQs.js";import{h as J,i as K,e as N,a as O,j as Q}from"../chunks/C4NhX5Oq.js";import{p as F,b as U,q as X,g as p,c as I,r as x,a as G,l as Y,w as Z,u as tt,s as W,f as et,x as at}from"../chunks/Cw4gc1Sk.js";import{T as nt}from"../chunks/BCP7CWGp.js";import{P as t,a as H,g as st,m as rt,p as it,d as ot,c as ct,A as lt}from"../chunks/d1vGpIhs.js";import"../chunks/0fX-bleS.js";import"../chunks/BAfWyro9.js";import"../chunks/PEr8PfFL.js";import{o as dt}from"../chunks/DPv12Lre.js";import{b as ut,a as ft,s as gt}from"../chunks/C-7ACq4D.js";var pt=D('<div class="markdown-wrapper svelte-rrfqxz"><div class="markdown-container svelte-rrfqxz"></div></div>');function mt(S,z){F(z,!0);const _=()=>ft(ot,"$mode",q),[q,y]=gt();typeof t<"u"&&t.languages&&(t.languages.markup&&(t.languages.svelte=t.languages.markup),t.languages.typescript&&(t.languages.ts=t.languages.typescript),t.languages.javascript&&(t.languages.js=t.languages.javascript),t.languages.bash&&(t.languages.env=t.languages.bash,t.languages.shell=t.languages.bash,t.languages.sh=t.languages.bash),t.languages.markdown&&(t.languages.md=t.languages.markdown));let d,T=!1,m,h=!1,g=Y(void 0),M=tt(()=>_()==="dark"?"#ffffff":"#1a1a1a");function j(e){const i=/::toc(?:\{([^}]*)\})?/g;let a=e.replace(i,(r,n)=>{const o={};n&&n.split(/\s+/).forEach(c=>{const[l,v]=c.split("=");l&&v&&(o[l]=v)});const u=parseInt(o.maxLevel||"3",10),L=o.title||"Sommaire",E=/^(#{1,6})\s+(.+)$/gm,A=[];let b;for(;(b=E.exec(e))!==null;){const c=b[1].length;if(c<=u){const l=b[2].trim(),v=l.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();A.push({level:c,text:l,id:v})}}if(A.length===0)return"";let f='<nav class="toc-container" aria-label="Sommaire">';f+=`<div class="toc-title">${L}</div>`,f+='<ul class="toc-list">';for(const c of A){const l=c.level-1;f+=`<li class="toc-item toc-level-${c.level}" style="padding-left: ${l*1}rem;">`,f+=`<a href="#${c.id}" class="toc-link">${c.text}</a>`,f+="</li>"}return f+="</ul></nav>",f});a=a.replace(/:::profile-card\s*\n([\s\S]*?)\n:::/g,(r,n)=>`<div class="profile-card">${n.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" />')}</div>`);const s=/::handwritten\[([^\]]+)\](?:\{([^}]*)\})?/g;return a=a.replace(s,(r,n,o)=>{const u={};o&&o.split(/\s+/).forEach(c=>{const[l,v]=c.split("=");l&&v&&(u[l]=v)});const L=u.fontSize||"32",E=u.duration||"2000",A=u.strokeWidth||"1.2",b=u.height||"60",f=`handwritten-${Math.random().toString(36).substr(2,9)}`;return`<div class="handwritten-wrapper" data-handwritten="${encodeURIComponent(n)}" data-fontsize="${L}" data-duration="${E}" data-strokewidth="${A}" data-height="${b}" id="${f}" style="min-height: ${b}px;"></div>`}),a}function C(){return new Promise((e,i)=>{if(typeof window.Vara<"u"){e();return}if(document.querySelector('script[src="/scripts/vara.min.js"]')){const r=setInterval(()=>{typeof window.Vara<"u"&&(clearInterval(r),e())},50);setTimeout(()=>{clearInterval(r),i(new Error("Vara load timeout"))},5e3);return}const s=document.createElement("script");s.src="/scripts/vara.min.js",s.onload=()=>{setTimeout(e,100)},s.onerror=r=>i(r),document.body.appendChild(s)})}async function k(e){if(!d||h)return;const i=d.querySelectorAll("[data-handwritten]");if(i.length!==0){try{await C()}catch(a){console.error("Failed to load Vara.js:",a),i.forEach(s=>{const r=decodeURIComponent(s.getAttribute("data-handwritten")||""),n=s.getAttribute("data-fontsize")||"32";s.innerHTML=`<span style="font-size: ${n}px; font-family: 'Pacifico', cursive;">${r}</span>`});return}i.forEach(a=>{a.innerHTML="";const s=decodeURIComponent(a.getAttribute("data-handwritten")||""),r=parseInt(a.getAttribute("data-fontsize")||"32"),n=parseInt(a.getAttribute("data-duration")||"2000"),o=parseFloat(a.getAttribute("data-strokewidth")||"1.2");parseInt(a.getAttribute("data-height")||"60");try{new window.Vara(`#${a.id}`,"/fonts/Pacifico.json",[{text:s,fontSize:r,strokeWidth:o,color:e,duration:n,x:10,y:r*1.1}],{autoAnimation:!0})}catch(u){console.error("Vara init error:",u),a.innerHTML=`<span style="font-size: ${r}px; font-family: 'Pacifico', cursive;">${s}</span>`}}),h=!0}}dt(async()=>{H.use(st()),H.use(rt()),m=it(window),T=!0,U(g,_(),!0),await w()});async function w(){if(!T||!d||!m)return;const e=j(z.content),i=await H.parse(e);d.innerHTML=m.sanitize(i,{ADD_ATTR:["data-handwritten","data-fontsize","data-duration","data-strokewidth","data-height"],ADD_TAGS:["div"]}),t.highlightAllUnder(d),await Z(),h=!1,await k(p(M))}X(()=>{const e=_();T&&p(g)!==void 0&&p(g)!==e&&(U(g,e,!0),h=!1,w())});var $=pt(),V=I($);ut(V,e=>d=e,()=>d),x($),P(S,$),G(),y()}var ht=D('<div class="attachments-section mt-12 svelte-cwls5q"><h3 class="section-title flex items-center gap-2 text-xl font-semibold mb-6 svelte-cwls5q"><div class="i-carbon-attachment"></div> Pi√®ces jointes</h3> <div class="attachments-grid svelte-cwls5q"></div></div>'),vt=D('<div class="about-page svelte-cwls5q"><div class="container mx-auto max-w-4xl px-4"><article class="prose prose-lg dark:prose-invert max-w-none"><!></article> <!></div></div>');function Tt(S,z){F(z,!1);const{title:_,content:q,attachments:y}=J;K(),nt(S,{get title(){return _},children:(d,T)=>{var m=vt(),h=I(m),g=I(h),M=I(g);mt(M,{get content(){return q}}),x(g);var j=W(g,2);{var C=k=>{var w=ht(),$=W(I(w),2);N($,5,()=>y,O,(V,e)=>{var i=B(),a=et(i);{var s=n=>{{let o=at(()=>({src:p(e).src,label:p(e).label}));ct(n,{get item(){return p(o)}})}},r=n=>{lt(n,{get attachment(){return p(e)}})};R(a,n=>{p(e).type===Q.Image?n(s):n(r,!1)})}P(V,i)}),x($),x(w),P(k,w)};R(j,k=>{y&&y.length>0&&k(C)})}x(h),x(m),P(d,m)},$$slots:{default:!0}}),G()}export{Tt as component};
