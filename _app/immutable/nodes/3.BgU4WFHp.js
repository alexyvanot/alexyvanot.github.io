import{i as R}from"../chunks/CxR73Sjp.js";import{h as B,i as J,e as K,a as N,j as O}from"../chunks/ByjGSs74.js";import{p as W,k as U,B as Q,g as p,e as A,r as _,b as P,a as G,z as X,c as D,F as Y,u as Z,s as F,j as tt,f as et,G as at}from"../chunks/C1Sid17B.js";import{T as nt}from"../chunks/C_D1otIj.js";import{P as t,a as H,g as st,m as rt,p as it,d as ot,c as ct,A as lt}from"../chunks/BGUcXUG2.js";import"../chunks/Bjkk25el.js";import"../chunks/B5hLIwkd.js";import"../chunks/BQCRvuof.js";import{o as dt}from"../chunks/DnvHIAsd.js";import{b as ut,a as gt,s as ft}from"../chunks/Co5jhFsc.js";var pt=D('<div class="markdown-wrapper svelte-rrfqxz"><div class="markdown-container svelte-rrfqxz"></div></div>');function mt(S,I){W(I,!0);const x=()=>gt(ot,"$mode",j),[j,y]=ft();typeof t<"u"&&t.languages&&(t.languages.markup&&(t.languages.svelte=t.languages.markup),t.languages.typescript&&(t.languages.ts=t.languages.typescript),t.languages.javascript&&(t.languages.js=t.languages.javascript),t.languages.bash&&(t.languages.env=t.languages.bash,t.languages.shell=t.languages.bash,t.languages.sh=t.languages.bash),t.languages.markdown&&(t.languages.md=t.languages.markdown));let d,T=!1,m,h=!1,f=X(void 0),q=Z(()=>x()==="dark"?"#ffffff":"#1a1a1a");function M(e){const i=/::toc(?:\{([^}]*)\})?/g;let a=e.replace(i,(r,n)=>{const o={};n&&n.split(/\s+/).forEach(c=>{const[l,v]=c.split("=");l&&v&&(o[l]=v)});const u=parseInt(o.maxLevel||"3",10),L=o.title||"Sommaire",E=/^(#{1,6})\s+(.+)$/gm,z=[];let b;for(;(b=E.exec(e))!==null;){const c=b[1].length;if(c<=u){const l=b[2].trim(),v=l.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();z.push({level:c,text:l,id:v})}}if(z.length===0)return"";let g='<nav class="toc-container" aria-label="Sommaire">';g+=`<div class="toc-title">${L}</div>`,g+='<ul class="toc-list">';for(const c of z){const l=c.level-1;g+=`<li class="toc-item toc-level-${c.level}" style="padding-left: ${l*1}rem;">`,g+=`<a href="#${c.id}" class="toc-link">${c.text}</a>`,g+="</li>"}return g+="</ul></nav>",g});a=a.replace(/:::profile-card\s*\n([\s\S]*?)\n:::/g,(r,n)=>`<div class="profile-card">${n.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" />')}</div>`);const s=/::handwritten\[([^\]]+)\](?:\{([^}]*)\})?/g;return a=a.replace(s,(r,n,o)=>{const u={};o&&o.split(/\s+/).forEach(c=>{const[l,v]=c.split("=");l&&v&&(u[l]=v)});const L=u.fontSize||"32",E=u.duration||"2000",z=u.strokeWidth||"1.2",b=u.height||"60",g=`handwritten-${Math.random().toString(36).substr(2,9)}`;return`<div class="handwritten-wrapper" data-handwritten="${encodeURIComponent(n)}" data-fontsize="${L}" data-duration="${E}" data-strokewidth="${z}" data-height="${b}" id="${g}" style="min-height: ${b}px;"></div>`}),a}function C(){return new Promise((e,i)=>{if(typeof window.Vara<"u"){e();return}if(document.querySelector('script[src="/scripts/vara.min.js"]')){const r=setInterval(()=>{typeof window.Vara<"u"&&(clearInterval(r),e())},50);setTimeout(()=>{clearInterval(r),i(new Error("Vara load timeout"))},5e3);return}const s=document.createElement("script");s.src="/scripts/vara.min.js",s.onload=()=>{setTimeout(e,100)},s.onerror=r=>i(r),document.body.appendChild(s)})}async function k(e){if(!d||h)return;const i=d.querySelectorAll("[data-handwritten]");if(i.length!==0){try{await C()}catch(a){console.error("Failed to load Vara.js:",a),i.forEach(s=>{const r=decodeURIComponent(s.getAttribute("data-handwritten")||""),n=s.getAttribute("data-fontsize")||"32";s.innerHTML=`<span style="font-size: ${n}px; font-family: 'Pacifico', cursive;">${r}</span>`});return}i.forEach(a=>{a.innerHTML="";const s=decodeURIComponent(a.getAttribute("data-handwritten")||""),r=parseInt(a.getAttribute("data-fontsize")||"32"),n=parseInt(a.getAttribute("data-duration")||"2000"),o=parseFloat(a.getAttribute("data-strokewidth")||"1.2");parseInt(a.getAttribute("data-height")||"60");try{new window.Vara(`#${a.id}`,"/fonts/Pacifico.json",[{text:s,fontSize:r,strokeWidth:o,color:e,duration:n,x:10,y:r*1.1}],{autoAnimation:!0})}catch(u){console.error("Vara init error:",u),a.innerHTML=`<span style="font-size: ${r}px; font-family: 'Pacifico', cursive;">${s}</span>`}}),h=!0}}dt(async()=>{H.use(st()),H.use(rt()),m=it(window),T=!0,U(f,x(),!0),await w()});async function w(){if(!T||!d||!m)return;const e=M(I.content),i=await H.parse(e);d.innerHTML=m.sanitize(i,{ADD_ATTR:["data-handwritten","data-fontsize","data-duration","data-strokewidth","data-height"],ADD_TAGS:["div"]}),t.highlightAllUnder(d),await Y(),h=!1,await k(p(q))}Q(()=>{const e=x();T&&p(f)!==void 0&&p(f)!==e&&(U(f,e,!0),h=!1,w())});var $=pt(),V=A($);ut(V,e=>d=e,()=>d),_($),P(S,$),G(),y()}var ht=D('<div class="attachments-section mt-12 svelte-cwls5q"><h3 class="section-title flex items-center gap-2 text-xl font-semibold mb-6 svelte-cwls5q"><div class="i-carbon-attachment"></div> Pi√®ces jointes</h3> <div class="attachments-grid svelte-cwls5q"></div></div>'),vt=D('<div class="about-page svelte-cwls5q"><div class="container mx-auto max-w-4xl px-4"><article class="prose prose-lg dark:prose-invert max-w-none"><!></article> <!></div></div>');function Tt(S,I){W(I,!1);const{title:x,content:j,attachments:y}=B;J(),nt(S,{get title(){return x},children:(d,T)=>{var m=vt(),h=A(m),f=A(h),q=A(f);mt(q,{get content(){return j}}),_(f);var M=F(f,2);{var C=k=>{var w=ht(),$=F(A(w),2);K($,5,()=>y,N,(V,e)=>{var i=tt(),a=et(i);{var s=n=>{{let o=at(()=>({src:p(e).src,label:p(e).label}));ct(n,{get item(){return p(o)}})}},r=n=>{lt(n,{get attachment(){return p(e)}})};R(a,n=>{p(e).type===O.Image?n(s):n(r,!1)})}P(V,i)}),_($),_(w),P(k,w)};R(M,k=>{y&&y.length>0&&k(C)})}_(h),_(m),P(d,m)},$$slots:{default:!0}}),G()}export{Tt as component};
