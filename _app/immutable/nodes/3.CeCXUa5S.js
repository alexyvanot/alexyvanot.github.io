import{i as X}from"../chunks/BBQJk-hg.js";import{h as at,i as st,e as nt,a as it,j as rt}from"../chunks/CbV-A16z.js";import{p as N,k as Y,B as ot,g as y,e as C,r as H,b as W,a as tt,z as lt,c as Q,F as ct,u as dt,s as Z,j as ut,f as pt,G as gt}from"../chunks/_vsrSwkU.js";import{T as ft}from"../chunks/D22GfpYQ.js";import{P as o,a as J,g as ht,m as mt,p as vt,d as $t,c as wt,A as bt}from"../chunks/DQ88C_IA.js";import"../chunks/C4hQdI3O.js";import"../chunks/CSMk5l2k.js";import"../chunks/CVfsOsLn.js";import{o as yt}from"../chunks/f-P_mWps.js";import{b as kt,a as _t,s as xt}from"../chunks/CKiSNLsr.js";var Tt=Q('<div class="markdown-wrapper svelte-rrfqxz"><div class="markdown-container svelte-rrfqxz"></div></div>');function At(K,q){N(q,!0);const L=()=>_t($t,"$mode",U),[U,S]=xt();typeof o<"u"&&o.languages&&(o.languages.markup&&(o.languages.svelte=o.languages.markup),o.languages.typescript&&(o.languages.ts=o.languages.typescript),o.languages.javascript&&(o.languages.js=o.languages.javascript),o.languages.bash&&(o.languages.env=o.languages.bash,o.languages.shell=o.languages.bash,o.languages.sh=o.languages.bash),o.languages.markdown&&(o.languages.md=o.languages.markdown));let m,j=!1,k,_=!1,$=lt(void 0),F=dt(()=>L()==="dark"?"#ffffff":"#1a1a1a");function T(s,e="md-icon"){if(!s)return"";const n=s.trim();return n.startsWith("i-")?`<span class="${e} ${n}" aria-hidden="true"></span>`:/^[a-z0-9-]+$/i.test(n)?`<span class="${e} i-carbon-${n}" aria-hidden="true"></span>`:`<span class="${e}">${n}</span>`}function G(s){return s.replace(/:i(?:con)?\[([^\]]+)\]/g,(e,n)=>T(n,"md-icon"))}function M(s){let e=G(s);const n=/::toc(?:\{([^}]*)\})?/g;e=e.replace(n,(i,u)=>{const c={};u&&u.split(/\s+/).forEach(a=>{const[t,p]=a.split("=");t&&p&&(c[t]=p)});const g=parseInt(c.maxLevel||"3",10),v=c.title||"Sommaire",f=/^(#{1,6})\s+(.+)$/gm,d=[];let h;for(;(h=f.exec(s))!==null;){const a=h[1].length;if(a<=g){const t=h[2].trim(),p=t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();d.push({level:a,text:t,id:p})}}if(d.length===0)return"";let l='<nav class="toc-container" aria-label="Sommaire">';l+=`<div class="toc-title">${v}</div>`,l+='<ul class="toc-list">';for(const a of d){const t=a.level-1;l+=`<li class="toc-item toc-level-${a.level}" style="padding-left: ${t*1}rem;">`,l+=`<a href="#${a.id}" class="toc-link">${a.text}</a>`,l+="</li>"}return l+="</ul></nav>",l}),e=e.replace(/:::profile-card\s*\n([\s\S]*?)\n:::/g,(i,u)=>`<div class="profile-card">${u.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" />')}</div>`);const r=/::handwritten\[([^\]]+)\](?:\{([^}]*)\})?/g;return e=e.replace(r,(i,u,c)=>{const g={};c&&c.split(/\s+/).forEach(a=>{const[t,p]=a.split("=");t&&p&&(g[t]=p)});const v=g.fontSize||"32",f=g.duration||"2000",d=g.strokeWidth||"1.2",h=g.height||"60",l=`handwritten-${Math.random().toString(36).substr(2,9)}`;return`<div class="handwritten-wrapper" data-handwritten="${encodeURIComponent(u)}" data-fontsize="${v}" data-duration="${f}" data-strokewidth="${d}" data-height="${h}" id="${l}" style="min-height: ${h}px;"></div>`}),e}function P(){return new Promise((s,e)=>{if(typeof window.Vara<"u"){s();return}if(document.querySelector('script[src="/scripts/vara.min.js"]')){const i=setInterval(()=>{typeof window.Vara<"u"&&(clearInterval(i),s())},50);setTimeout(()=>{clearInterval(i),e(new Error("Vara load timeout"))},5e3);return}const r=document.createElement("script");r.src="/scripts/vara.min.js",r.onload=()=>{setTimeout(s,100)},r.onerror=i=>e(i),document.body.appendChild(r)})}async function O(s){if(!m||_)return;const e=m.querySelectorAll("[data-handwritten]");if(e.length!==0){try{await P()}catch(n){console.error("Failed to load Vara.js:",n),e.forEach(r=>{const i=decodeURIComponent(r.getAttribute("data-handwritten")||""),u=r.getAttribute("data-fontsize")||"32";r.innerHTML=`<span style="font-size: ${u}px; font-family: 'Pacifico', cursive;">${i}</span>`});return}e.forEach(n=>{n.innerHTML="";const r=decodeURIComponent(n.getAttribute("data-handwritten")||""),i=parseInt(n.getAttribute("data-fontsize")||"32"),u=parseInt(n.getAttribute("data-duration")||"2000"),c=parseFloat(n.getAttribute("data-strokewidth")||"1.2");parseInt(n.getAttribute("data-height")||"60");try{new window.Vara(`#${n.id}`,"/fonts/Pacifico.json",[{text:r,fontSize:i,strokeWidth:c,color:s,duration:u,x:10,y:i*1.1}],{autoAnimation:!0})}catch(g){console.error("Vara init error:",g),n.innerHTML=`<span style="font-size: ${i}px; font-family: 'Pacifico', cursive;">${r}</span>`}}),_=!0}}yt(async()=>{J.use(ht()),J.use(mt()),k=vt(window),j=!0,Y($,L(),!0),await V()});async function V(){if(!j||!m||!k)return;const s=[];let e=q.content;e=e.replace(/:::values-grid(?:\{([^}]*)\})?\s*\n([\s\S]*?)\n:::/g,(r,i,u)=>{const c={};i&&i.split(/\s+/).forEach(l=>{const[a,t]=l.split("=");a&&t&&(c[a]=t)});const g=c.cols||"2",v=/::value\[([^\]]+)\](?:\{([^}]*)\})?\s*\n([\s\S]*?)(?=::value|\n::$|$)/g;let f="",d;for(;(d=v.exec(u))!==null;){const l=d[1],a=d[2]||"";let t=d[3].trim().replace(/\n::$/,"").trim();const p={};a&&a.split(/\s+/).forEach(E=>{const[z,I]=E.split("=");z&&I&&(p[z]=I)});const x=p.icon||"sparkles",A=p.color||"primary",B=T(x,"value-icon");t=t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>"),f+=`<div class="value-card value-card-${A}"><div class="value-card-icon">${B}</div><div class="value-card-content"><h4 class="value-card-title">${l}</h4><p class="value-card-description">${t}</p></div></div>`}const h=`<div class="values-grid values-grid-cols-${g}">${f}</div>`;return s.push(h),`<!--HTMLBLOCK${s.length-1}-->`}),e=e.replace(/:::buttons(?:\{([^}]*)\})?\s*\n([\s\S]*?)\n:::/g,(r,i,u)=>{const c={};i&&i.split(/\s+/).forEach(l=>{const[a,t]=l.split("=");a&&t&&(c[a]=t)});const g=c.align||"center",v=/::button\[([^\]]+)\](?:\{([^}]*)\})?/g;let f="",d;for(;(d=v.exec(u))!==null;){const l=d[1],a=d[2]||"",t={};a&&a.split(/\s+/).forEach(I=>{const[b,R]=I.split("=");b&&R&&(t[b]=R)});const p=t.href||"#",x=t.icon||"",A=t.style||"ghost",E=t.newTab==="true"?' target="_blank" rel="noopener noreferrer"':"",z=x?T(x,"btn-icon"):"";f+=`<a href="${p}" class="md-btn md-btn-${A}"${E}>${z}<span class="btn-label">${l}</span></a>`}const h=`<div class="md-buttons md-buttons-${g}">${f}</div>`;return s.push(h),`<!--HTMLBLOCK${s.length-1}-->`}),e=e.replace(/:::tags(?:\{([^}]*)\})?\s*\n([\s\S]*?)\n:::/g,(r,i,u)=>{const c={};i&&i.split(/\s+/).forEach(l=>{const[a,t]=l.split("=");a&&t&&(c[a]=t)});const g=c.layout||"wrap",v=/::tag\[([^\]]+)\](?:\{([^}]*)\})?/g;let f="",d;for(;(d=v.exec(u))!==null;){const l=d[1],a=d[2]||"",t={};if(a){const I=/(\w+)=(?:"([^"]*)"|(\S+))/g;let b;for(;(b=I.exec(a))!==null;){const R=b[1],et=b[2]!==void 0?b[2]:b[3];t[R]=et}}const p=t.icon||"",x=t.desc?t.desc.replace(/_/g," "):"",A=t.full?t.full.replace(/_/g," "):"",B=p?T(p,"tag-icon"):"",E=x?`<span class="tag-desc">${x}</span>`:"",z=A?`<div class="tag-full">${A}</div>`:"";f+=`<div class="md-tag"><div class="tag-header">${B}<span class="tag-label">${l}</span>${E}</div>${z}</div>`}const h=`<div class="md-tags md-tags-${g}">${f}</div>`;return s.push(h),`<!--HTMLBLOCK${s.length-1}-->`}),e=M(e);let n=await J.parse(e);s.forEach((r,i)=>{n=n.replace(`<!--HTMLBLOCK${i}-->`,r)}),m.innerHTML=k.sanitize(n,{ADD_ATTR:["data-handwritten","data-fontsize","data-duration","data-strokewidth","data-height","aria-label"],ADD_TAGS:["nav"],ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","a","ul","ol","li","strong","em","code","pre","blockquote","img","div","span","br","hr","table","thead","tbody","tr","th","td","nav","details","summary"],ALLOWED_ATTR:["href","src","alt","title","class","id","style","target","rel","data-handwritten","data-fontsize","data-duration","data-strokewidth","data-height","aria-label"]}),o.highlightAllUnder(m),await ct(),_=!1,await O(y(F))}ot(()=>{const s=L();j&&y($)!==void 0&&y($)!==s&&(Y($,s,!0),_=!1,V())});var w=Tt(),D=C(w);kt(D,s=>m=s,()=>m),H(w),W(K,w),tt(),S()}var zt=Q('<div class="attachments-section mt-12 svelte-cwls5q"><h3 class="section-title flex items-center gap-2 text-xl font-semibold mb-6 svelte-cwls5q"><div class="i-carbon-attachment"></div> Pi√®ces jointes</h3> <div class="attachments-grid svelte-cwls5q"></div></div>'),It=Q('<div class="about-page svelte-cwls5q"><div class="container mx-auto max-w-4xl px-4"><article class="prose prose-lg dark:prose-invert max-w-none"><!></article> <!></div></div>');function Vt(K,q){N(q,!1);const{title:L,content:U,attachments:S}=at;st(),ft(K,{get title(){return L},children:(m,j)=>{var k=It(),_=C(k),$=C(_),F=C($);At(F,{get content(){return U}}),H($);var T=Z($,2);{var G=M=>{var P=zt(),O=Z(C(P),2);nt(O,5,()=>S,it,(V,w)=>{var D=ut(),s=pt(D);{var e=r=>{{let i=gt(()=>({src:y(w).src,label:y(w).label}));wt(r,{get item(){return y(i)}})}},n=r=>{bt(r,{get attachment(){return y(w)}})};X(s,r=>{y(w).type===rt.Image?r(e):r(n,!1)})}W(V,D)}),H(O),H(P),W(M,P)};X(T,M=>{S&&S.length>0&&M(G)})}H(_),H(k),W(m,k)},$$slots:{default:!0}}),tt()}export{Vt as component};
