import{d as S,b as y,f as I,r as te}from"./BQoN3AXS.js";import{i as N}from"./CC79lTPZ.js";import{al as ae,aP as se,aQ as K,p,ai as k,k as A,aj as R,m as C,j as z,i as V,l as X,q as O,D as q,w as v,Q as B,u as Q}from"./DfsqgMgB.js";import{s as P,a as U,c as L}from"./IlNlyBon.js";import{l as m,p as u,i as W,b as D,d as ne,s as Y,a as Z,c as F}from"./DHMkAm4m.js";import{o as le,c as re,f as oe,m as H,s as J,a as ee}from"./BtBaYgSJ.js";import{o as ie}from"./Dt5BD3lj.js";import{t as de,r as ce,g as ue}from"./DWkwQD56.js";import{c as fe}from"./B9zgB7jn.js";const ge={src:"",delayMs:0,onLoadingStatusChange:void 0},ve=s=>{const e={...ge,...s},n=de(le(e,"loadingStatus","onLoadingStatusChange")),{src:f,delayMs:a}=n,d=e.loadingStatus??ae("loading"),i=ie(d,e==null?void 0:e.onLoadingStatusChange);re([f,a],([r,_])=>{if(oe){const h=new Image;h.src=r,h.onload=()=>{if(a!==void 0){const $=window.setTimeout(()=>{i.set("loaded")},_);return()=>window.clearTimeout($)}else i.set("loaded")},h.onerror=()=>{i.set("error")}}});const l=H("avatar-image",{stores:[f,i],returned:([r,_])=>{const h=J({display:_==="loaded"?"block":"none"});return{src:r,style:h}}}),c=H("avatar-fallback",{stores:[i],returned:([r])=>({style:r==="loaded"?J({display:"none"}):void 0,hidden:r==="loaded"?!0:void 0})});return{elements:{image:l,fallback:c},states:{loadingStatus:i},options:n}};function G(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function me(s){const{NAME:e,PARTS:n}=G(),f=fe(e,n),a={...ve(ce(s)),getAttrs:f};return se(e,a),{...a,updateOption:ue(a.options)}}function _e(s=""){const{NAME:e}=G(),n=K(e);return s?n.options.src.set(s):n.options.src.set(""),n}function he(){const{NAME:s}=G();return K(s)}var be=I("<div><!></div>");function ye(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);p(e,!1);let a=u(e,"delayMs",24,()=>{}),d=u(e,"loadingStatus",28,()=>{}),i=u(e,"onLoadingStatusChange",24,()=>{}),l=u(e,"asChild",8,!1),c=u(e,"el",28,()=>{});const{states:{loadingStatus:r},updateOption:_,getAttrs:h}=me({src:"",delayMs:a(),onLoadingStatusChange:({next:o})=>{var t;return d(o),(t=i())==null||t(o),o}}),$=h("root");k(()=>A(d()),()=>{d()!==void 0&&r.set(d())}),k(()=>A(a()),()=>{_("delayMs",a())}),R(),N();var M=S(),w=C(M);{var E=o=>{var t=S(),g=C(t);P(g,e,"default",{get attrs(){return $}},null),y(o,t)},T=o=>{var t=be();U(t,()=>({...f,...$}));var g=V(t);P(g,e,"default",{get attrs(){return $}},null),X(t),D(t,b=>c(b),()=>c()),y(o,t)};W(w,o=>{l()?o(E):o(T,!1)})}y(s,M),z()}var $e=I("<img/>");function Ae(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["src","alt","asChild","el"]);p(e,!1);const a=()=>Y(v(l),"$image",d),[d,i]=Z(),l=q(),c=q();let r=u(e,"src",24,()=>{}),_=u(e,"alt",24,()=>{}),h=u(e,"asChild",8,!1),$=u(e,"el",28,()=>{});const M={"data-bits-avatar-image":""};k(()=>A(r()),()=>{ne(O(l,_e(r()).elements.image),"$image",d)}),k(()=>a(),()=>{O(c,a())}),k(()=>v(c),()=>{Object.assign(v(c),M)}),R(),N();var w=S(),E=C(w);{var T=t=>{var g=S(),b=C(g);P(b,e,"default",{get builder(){return v(c)}},null),y(t,g)},o=t=>{var g=$e();U(g,()=>({...v(c),alt:_(),...f})),D(g,b=>$(b),()=>$()),ee(g,b=>{var j,x;return(x=(j=v(c)).action)==null?void 0:x.call(j,b)}),te(g),y(t,g)};W(E,t=>{h()?t(T):t(o,!1)})}y(s,w),z(),i()}var Se=I("<span><!></span>");function Ce(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["asChild","el"]);p(e,!1);const a=()=>Y(_,"$fallback",d),[d,i]=Z(),l=q();let c=u(e,"asChild",8,!1),r=u(e,"el",28,()=>{});const{elements:{fallback:_},getAttrs:h}=he(),$=h("fallback");k(()=>a(),()=>{O(l,a())}),k(()=>v(l),()=>{Object.assign(v(l),$)}),R(),N();var M=S(),w=C(M);{var E=o=>{var t=S(),g=C(t);P(g,e,"default",{get builder(){return v(l)}},null),y(o,t)},T=o=>{var t=Se();U(t,()=>({...v(l),...f}));var g=V(t);P(g,e,"default",{get builder(){return v(l)}},null),X(t),D(t,b=>r(b),()=>r()),ee(t,b=>{var j,x;return(x=(j=v(l)).action)==null?void 0:x.call(j,b)}),y(o,t)};W(w,o=>{c()?o(E):o(T,!1)})}y(s,M),z(),i()}function Te(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class"]);p(e,!1);let a=u(e,"class",8,void 0);N();{let d=B(()=>(A(L),A(a()),Q(()=>L("bg-muted flex h-full w-full items-center justify-center rounded-full",a()))));Ce(s,F({get class(){return v(d)}},()=>f,{children:(i,l)=>{var c=S(),r=C(c);P(r,e,"default",{},null),y(i,c)},$$slots:{default:!0}}))}z()}function je(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","src","alt"]);p(e,!1);let a=u(e,"class",8,void 0),d=u(e,"src",8,void 0),i=u(e,"alt",8,void 0);N();{let l=B(()=>(A(L),A(a()),Q(()=>L("aspect-square h-full w-full",a()))));Ae(s,F({get src(){return d()},get alt(){return i()},get class(){return v(l)}},()=>f))}z()}function xe(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","delayMs"]);p(e,!1);let a=u(e,"class",8,void 0),d=u(e,"delayMs",8,void 0);N();{let i=B(()=>(A(L),A(a()),Q(()=>L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a()))));ye(s,F({get delayMs(){return d()},get class(){return v(i)}},()=>f,{children:(l,c)=>{var r=S(),_=C(r);P(_,e,"default",{},null),y(l,r)},$$slots:{default:!0}}))}z()}export{xe as A,Te as a,je as b};
