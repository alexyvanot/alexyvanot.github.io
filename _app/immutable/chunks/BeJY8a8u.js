var ct=Object.defineProperty;var at=s=>{throw TypeError(s)};var dt=(s,t,e)=>t in s?ct(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var y=(s,t,e)=>dt(s,typeof t!="symbol"?t+"":t,e),ut=(s,t,e)=>t.has(s)||at("Cannot "+e);var S=(s,t,e)=>(ut(s,t,"read from private field"),e?e.call(s):t.get(s)),q=(s,t,e)=>t.has(s)?at("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e);import{p as X,d as P,b as v,f as Y,r as ft}from"./euP4cELH.js";import{i as E}from"./CjcYZ-wk.js";import{x as w,w as c,q as L,p as k,m as b,i as A,k as it,X as ot,l as nt,Y as G,j as x,u as H}from"./BNGu9lvx.js";import{d as z,a as J,s as lt,c as C}from"./DPs54q9W.js";import{p as l,r as K,l as M,b as Q}from"./BDddvK-q.js";import{i as U}from"./fWSg9L30.js";import{a as V,c as ht,d as Z,f as m,m as F}from"./CxqZQ1Ab.js";import{C as gt,D as mt,w as vt}from"./CBDHnx5T.js";const $=ht({component:"avatar",parts:["root","image","fallback"]}),tt=new gt("Avatar.Root");var N;const et=class et{constructor(t){y(this,"opts");y(this,"domContext");y(this,"attachment");q(this,N,w(()=>({id:this.opts.id.current,[$.root]:"","data-status":this.opts.loadingStatus.current,...this.attachment})));this.opts=t,this.domContext=new mt(this.opts.ref),this.loadImage=this.loadImage.bind(this),this.attachment=V(this.opts.ref)}static create(t){return tt.set(new et(t))}loadImage(t,e,i){if(this.opts.loadingStatus.current==="loaded")return;let a;const o=new Image;return o.src=t,e!==void 0&&(o.crossOrigin=e),i&&(o.referrerPolicy=i),this.opts.loadingStatus.current="loading",o.onload=()=>{a=this.domContext.setTimeout(()=>{this.opts.loadingStatus.current="loaded"},this.opts.delayMs.current)},o.onerror=()=>{this.opts.loadingStatus.current="error"},()=>{a&&this.domContext.clearTimeout(a)}}get props(){return c(S(this,N))}set props(t){L(S(this,N),t)}};N=new WeakMap;let R=et;var T;const st=class st{constructor(t,e){y(this,"opts");y(this,"root");y(this,"attachment");q(this,T,w(()=>({id:this.opts.id.current,style:{display:this.root.opts.loadingStatus.current==="loaded"?"block":"none"},"data-status":this.root.opts.loadingStatus.current,[$.image]:"",src:this.opts.src.current,crossorigin:this.opts.crossOrigin.current,referrerpolicy:this.opts.referrerPolicy.current,...this.attachment})));this.opts=t,this.root=e,this.attachment=V(this.opts.ref),vt.pre([()=>this.opts.src.current,()=>this.opts.crossOrigin.current],([i,a])=>{if(!i){this.root.opts.loadingStatus.current="error";return}this.root.loadImage(i,a,this.opts.referrerPolicy.current)})}static create(t){return new st(t,tt.get())}get props(){return c(S(this,T))}set props(t){L(S(this,T),t)}};T=new WeakMap;let B=st;var j,D;const rt=class rt{constructor(t,e){y(this,"opts");y(this,"root");y(this,"attachment");q(this,j,w(()=>this.root.opts.loadingStatus.current==="loaded"?{display:"none"}:void 0));q(this,D,w(()=>({style:this.style,"data-status":this.root.opts.loadingStatus.current,[$.fallback]:"",...this.attachment})));this.opts=t,this.root=e,this.attachment=V(this.opts.ref)}static create(t){return new rt(t,tt.get())}get style(){return c(S(this,j))}set style(t){L(S(this,j),t)}get props(){return c(S(this,D))}set props(t){L(S(this,D),t)}};j=new WeakMap,D=new WeakMap;let W=rt;var pt=Y("<div><!></div>");function yt(s,t){const e=X();k(t,!0);let i=l(t,"delayMs",3,0),a=l(t,"loadingStatus",15,"loading"),o=l(t,"id",19,()=>Z(e)),d=l(t,"ref",15,null),h=K(t,["$$slots","$$events","$$legacy","delayMs","loadingStatus","onLoadingStatusChange","child","children","id","ref"]);const p=R.create({delayMs:m(()=>i()),loadingStatus:m(()=>a(),r=>{var n;a()!==r&&(a(r),(n=t.onLoadingStatusChange)==null||n.call(t,r))}),id:m(()=>o()),ref:m(()=>d(),r=>d(r))}),u=w(()=>F(h,p.props));var _=P(),I=b(_);{var f=r=>{var n=P(),O=b(n);z(O,()=>t.child,()=>({props:c(u)})),v(r,n)},g=r=>{var n=pt();J(n,()=>({...c(u)}));var O=it(n);z(O,()=>t.children??ot),nt(n),v(r,n)};U(I,r=>{t.child?r(f):r(g,!1)})}v(s,_),A()}var _t=Y("<img/>");function St(s,t){const e=X();k(t,!0);let i=l(t,"id",19,()=>Z(e)),a=l(t,"ref",15,null),o=l(t,"crossorigin",3,void 0),d=l(t,"referrerpolicy",3,void 0),h=K(t,["$$slots","$$events","$$legacy","src","child","id","ref","crossorigin","referrerpolicy"]);const p=B.create({src:m(()=>t.src),id:m(()=>i()),ref:m(()=>a(),r=>a(r)),crossOrigin:m(()=>o()),referrerPolicy:m(()=>d())}),u=w(()=>F(h,p.props));var _=P(),I=b(_);{var f=r=>{var n=P(),O=b(n);z(O,()=>t.child,()=>({props:c(u)})),v(r,n)},g=r=>{var n=_t();J(n,()=>({...c(u),src:t.src})),ft(n),v(r,n)};U(I,r=>{t.child?r(f):r(g,!1)})}v(s,_),A()}var Pt=Y("<span><!></span>");function bt(s,t){const e=X();k(t,!0);let i=l(t,"id",19,()=>Z(e)),a=l(t,"ref",15,null),o=K(t,["$$slots","$$events","$$legacy","children","child","id","ref"]);const d=W.create({id:m(()=>i()),ref:m(()=>a(),f=>a(f))}),h=w(()=>F(o,d.props));var p=P(),u=b(p);{var _=f=>{var g=P(),r=b(g);z(r,()=>t.child,()=>({props:c(h)})),v(f,g)},I=f=>{var g=Pt();J(g,()=>({...c(h)}));var r=it(g);z(r,()=>t.children??ot),nt(g),v(f,g)};U(u,f=>{t.child?f(_):f(I,!1)})}v(s,p),A()}function zt(s,t){const e=M(t,["children","$$slots","$$events","$$legacy"]),i=M(e,["class"]);k(t,!1);let a=l(t,"class",8,void 0);E();{let o=G(()=>(x(C),x(a()),H(()=>C("bg-muted flex h-full w-full items-center justify-center rounded-full",a()))));bt(s,Q({get class(){return c(o)}},()=>i,{children:(d,h)=>{var p=P(),u=b(p);lt(u,t,"default",{},null),v(d,p)},$$slots:{default:!0}}))}A()}function Nt(s,t){const e=M(t,["children","$$slots","$$events","$$legacy"]),i=M(e,["class","src","alt"]);k(t,!1);let a=l(t,"class",8,void 0),o=l(t,"src",8,void 0),d=l(t,"alt",8,void 0);E();{let h=G(()=>(x(C),x(a()),H(()=>C("aspect-square h-full w-full",a()))));St(s,Q({get src(){return o()},get alt(){return d()},get class(){return c(h)}},()=>i))}A()}function Tt(s,t){const e=M(t,["children","$$slots","$$events","$$legacy"]),i=M(e,["class","delayMs"]);k(t,!1);let a=l(t,"class",8,void 0),o=l(t,"delayMs",8,void 0);E();{let d=G(()=>(x(C),x(a()),H(()=>C("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a()))));yt(s,Q({get delayMs(){return o()},get class(){return c(d)}},()=>i,{children:(h,p)=>{var u=P(),_=b(u);lt(_,t,"default",{},null),v(h,u)},$$slots:{default:!0}}))}A()}export{Tt as A,zt as a,Nt as b};
