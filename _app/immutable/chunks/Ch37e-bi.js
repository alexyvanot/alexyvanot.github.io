var C=Object.defineProperty;var p=e=>{throw TypeError(e)};var O=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var u=(e,t,r)=>O(e,typeof t!="symbol"?t+"":t,r),N=(e,t,r)=>t.has(e)||p("Cannot "+r);var n=(e,t,r)=>(N(e,t,"read from private field"),r?r.call(e):t.get(e)),c=(e,t,r)=>t.has(e)?p("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),l=(e,t,r,s)=>(N(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);import{k as R,o as x}from"./euP4cELH.js";import{ax as W,ay as A,az as _,R as S,y as M,u as V,x as q,w as F,q as I}from"./BNGu9lvx.js";import{k as g,f as z}from"./Qq2XQP24.js";const B=typeof window<"u"?window:void 0;function L(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}var a,m;class U{constructor(t={}){c(this,a);c(this,m);const{window:r=B,document:s=r==null?void 0:r.document}=t;r!==void 0&&(l(this,a,s),l(this,m,R(o=>{const d=x(r,"focusin",o),f=x(r,"focusout",o);return()=>{d(),f()}})))}get current(){var t;return(t=n(this,m))==null||t.call(this),n(this,a)?L(n(this,a)):null}}a=new WeakMap,m=new WeakMap;new U;var h,i;class ot{constructor(t){c(this,h);c(this,i);l(this,h,t),l(this,i,Symbol(t))}get key(){return n(this,i)}exists(){return W(n(this,i))}get(){const t=A(n(this,i));if(t===void 0)throw new Error(`Context "${n(this,h)}" not found`);return t}getOr(t){const r=A(n(this,i));return r===void 0?t:r}set(t){return _(n(this,i),t)}}h=new WeakMap,i=new WeakMap;function $(e,t){switch(e){case"post":M(t);break;case"pre":S(t);break}}function D(e,t,r,s={}){const{lazy:o=!1}=s;let d=!o,f=Array.isArray(e)?[]:void 0;$(t,()=>{const y=Array.isArray(e)?e.map(k=>k()):e();if(!d){d=!0,f=y;return}const b=V(()=>r(y,f));return f=y,b})}function j(e,t,r){D(e,"post",t,r)}function G(e,t,r){D(e,"pre",t,r)}j.pre=G;const H=1,P=9,J=11;function E(e){return g(e)&&e.nodeType===H&&typeof e.nodeName=="string"}function T(e){return g(e)&&e.nodeType===P}function K(e){var t;return g(e)&&((t=e.constructor)==null?void 0:t.name)==="VisualViewport"}function Q(e){return g(e)&&e.nodeType!==void 0}function v(e){return Q(e)&&e.nodeType===J&&"host"in e}function ut(e,t){var s;if(!e||!t||!E(e)||!E(t))return!1;const r=(s=t.getRootNode)==null?void 0:s.call(t);if(e===t||e.contains(t))return!0;if(r&&v(r)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function X(e){return T(e)?e:K(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function Y(e){var t;return v(e)?Y(e.host):T(e)?e.defaultView??window:E(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function Z(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}var w;class st{constructor(t){u(this,"element");c(this,w,q(()=>this.element.current?this.element.current.getRootNode()??document:document));u(this,"getDocument",()=>X(this.root));u(this,"getWindow",()=>this.getDocument().defaultView??window);u(this,"getActiveElement",()=>Z(this.root));u(this,"isActiveElement",t=>t===this.getActiveElement());u(this,"querySelector",t=>this.root?this.root.querySelector(t):null);u(this,"querySelectorAll",t=>this.root?this.root.querySelectorAll(t):[]);u(this,"setTimeout",(t,r)=>this.getWindow().setTimeout(t,r));u(this,"clearTimeout",t=>this.getWindow().clearTimeout(t));typeof t=="function"?this.element=z(t):this.element=t}get root(){return F(n(this,w))}set root(t){I(n(this,w),t)}getElementById(t){return this.root.getElementById(t)}}w=new WeakMap;export{ot as C,st as D,X as a,ut as c,B as d,Y as g,j as w};
