import{c as S,i as R,a as y,f as q,r as te}from"./DwEPtfxu.js";import{i as N,b as B}from"./BWwij8kv.js";import{a3 as ae,a6 as Q,p,a4 as k,e as A,a5 as U,f as C,a as x,c as V,r as X,b as j,g as v,m as I,x as W,h as D}from"./BYvLBXBV.js";import{o as se,r as ne,t as le,m as J,u as K,s as w,p as Y,c as L}from"./BDMFe_5k.js";import{l as m,p as u,b as F,d as re,a as Z,s as ee,c as G}from"./B_XkAzjT.js";import{w as oe}from"./CohwSpqb.js";import{h as ie,o as de,i as ce,r as ue,j as fe}from"./B5BnZGR7.js";const ge={src:"",delayMs:0,onLoadingStatusChange:void 0},ve=s=>{const e={...ge,...s},n=ie(se(e,"loadingStatus","onLoadingStatusChange")),{src:f,delayMs:a}=n,d=e.loadingStatus??oe("loading"),i=de(d,e==null?void 0:e.onLoadingStatusChange);ne([f,a],([r,_])=>{if(le){const h=new Image;h.src=r,h.onload=()=>{if(a!==void 0){const $=window.setTimeout(()=>{i.set("loaded")},_);return()=>window.clearTimeout($)}else i.set("loaded")},h.onerror=()=>{i.set("error")}}});const l=J("avatar-image",{stores:[f,i],returned:([r,_])=>{const h=K({display:_==="loaded"?"block":"none"});return{src:r,style:h}}}),c=J("avatar-fallback",{stores:[i],returned:([r])=>({style:r==="loaded"?K({display:"none"}):void 0,hidden:r==="loaded"?!0:void 0})});return{elements:{image:l,fallback:c},states:{loadingStatus:i},options:n}};function H(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function me(s){const{NAME:e,PARTS:n}=H(),f=ce(e,n),a={...ve(ue(s)),getAttrs:f};return ae(e,a),{...a,updateOption:fe(a.options)}}function _e(s=""){const{NAME:e}=H(),n=Q(e);return s?n.options.src.set(s):n.options.src.set(""),n}function he(){const{NAME:s}=H();return Q(s)}var be=q("<div><!></div>");function ye(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);p(e,!1);let a=u(e,"delayMs",24,()=>{}),d=u(e,"loadingStatus",28,()=>{}),i=u(e,"onLoadingStatusChange",24,()=>{}),l=u(e,"asChild",8,!1),c=u(e,"el",28,()=>{});const{states:{loadingStatus:r},updateOption:_,getAttrs:h}=me({src:"",delayMs:a(),onLoadingStatusChange:({next:o})=>{var t;return d(o),(t=i())==null||t(o),o}}),$=h("root");k(()=>A(d()),()=>{d()!==void 0&&r.set(d())}),k(()=>A(a()),()=>{_("delayMs",a())}),U(),N();var M=S(),P=C(M);{var z=o=>{var t=S(),g=C(t);w(g,e,"default",{get attrs(){return $}},null),y(o,t)},E=o=>{var t=be();B(t,()=>({...f,...$}));var g=V(t);w(g,e,"default",{get attrs(){return $}},null),X(t),F(t,b=>c(b),()=>c()),y(o,t)};R(P,o=>{l()?o(z):o(E,!1)})}y(s,M),x()}var $e=q("<img/>");function Ae(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["src","alt","asChild","el"]);p(e,!1);const a=()=>Z(v(l),"$image",d),[d,i]=ee(),l=I(),c=I();let r=u(e,"src",24,()=>{}),_=u(e,"alt",24,()=>{}),h=u(e,"asChild",8,!1),$=u(e,"el",28,()=>{});const M={"data-bits-avatar-image":""};k(()=>A(r()),()=>{re(j(l,_e(r()).elements.image),"$image",d)}),k(()=>a(),()=>{j(c,a())}),k(()=>v(c),()=>{Object.assign(v(c),M)}),U(),N();var P=S(),z=C(P);{var E=t=>{var g=S(),b=C(g);w(b,e,"default",{get builder(){return v(c)}},null),y(t,g)},o=t=>{var g=$e();B(g,()=>({...v(c),alt:_(),...f})),F(g,b=>$(b),()=>$()),Y(g,b=>{var T,O;return(O=(T=v(c)).action)==null?void 0:O.call(T,b)}),te(g),y(t,g)};R(z,t=>{h()?t(E):t(o,!1)})}y(s,P),x(),i()}var Se=q("<span><!></span>");function Ce(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["asChild","el"]);p(e,!1);const a=()=>Z(_,"$fallback",d),[d,i]=ee(),l=I();let c=u(e,"asChild",8,!1),r=u(e,"el",28,()=>{});const{elements:{fallback:_},getAttrs:h}=he(),$=h("fallback");k(()=>a(),()=>{j(l,a())}),k(()=>v(l),()=>{Object.assign(v(l),$)}),U(),N();var M=S(),P=C(M);{var z=o=>{var t=S(),g=C(t);w(g,e,"default",{get builder(){return v(l)}},null),y(o,t)},E=o=>{var t=Se();B(t,()=>({...v(l),...f}));var g=V(t);w(g,e,"default",{get builder(){return v(l)}},null),X(t),F(t,b=>r(b),()=>r()),Y(t,b=>{var T,O;return(O=(T=v(l)).action)==null?void 0:O.call(T,b)}),y(o,t)};R(P,o=>{c()?o(z):o(E,!1)})}y(s,M),x(),i()}function xe(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","delayMs"]);p(e,!1);let a=u(e,"class",8,void 0),d=u(e,"delayMs",8,void 0);N();{let i=W(()=>(A(L),A(a()),D(()=>L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a()))));ye(s,G({get delayMs(){return d()},get class(){return v(i)}},()=>f,{children:(l,c)=>{var r=S(),_=C(r);w(_,e,"default",{},null),y(l,r)},$$slots:{default:!0}}))}x()}function ze(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","src","alt"]);p(e,!1);let a=u(e,"class",8,void 0),d=u(e,"src",8,void 0),i=u(e,"alt",8,void 0);N();{let l=W(()=>(A(L),A(a()),D(()=>L("aspect-square h-full w-full",a()))));Ae(s,G({get src(){return d()},get alt(){return i()},get class(){return v(l)}},()=>f))}x()}function Ee(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class"]);p(e,!1);let a=u(e,"class",8,void 0);N();{let d=W(()=>(A(L),A(a()),D(()=>L("bg-muted flex h-full w-full items-center justify-center rounded-full",a()))));Ce(s,G({get class(){return v(d)}},()=>f,{children:(i,l)=>{var c=S(),r=C(c);w(r,e,"default",{},null),y(i,c)},$$slots:{default:!0}}))}x()}export{xe as A,Ee as a,ze as b};
