import"./Bg9kRutz.js";import{i as Qe}from"./NT2F9xrX.js";import{aD as ft,b4 as Zt,b3 as $t,l as Je,ap as K,C as bt,ak as P,A as _,aq as yt,z as $,u as ee,t as Fe,N as en,Q as re,m as N,n as Ze,L as ht,q as je,r as Ye,aw as Re,o as $e,ar as zt}from"./DajlX1qa.js";import{e as tn,a as Ke,s as fe,c as Vt,k as nn}from"./Cnd8H8Cf.js";import{b as Ee}from"./O348IGDN.js";import{l as be,s as Tt,p as g,i as we,c as Ne,a as lt,d as Ut}from"./1XeJnWAW.js";import{f as Be,i as d,w as J,n as qe,u as Ht,e as ve,m as de,s as it,p as rn,c as me,b as C,F as Dt,k as Z,S as pt,v as Te,x as St,j as De,l as sn,d as It,o as Xt,a as We}from"./faHcvu-j.js";import{c as on,d as an}from"./B9zgB7jn.js";import{c as xt}from"./Ddau6Kem.js";import{t as ot}from"./FRmmhBtx.js";import{d as Ge,w as Q,g as un}from"./CX5Z3LJc.js";import{o as mt}from"./DrDxbC-y.js";import{t as vt,r as ln,g as cn}from"./DQr9C71U.js";import{s as Le,w as dn,c as fn,u as gn,h as mn,r as vn}from"./G_vz322V.js";import{u as jt,g as Ft,a as Rt}from"./BYpCfnSs.js";import{u as bn,g as hn}from"./BkaXSKT9.js";import{c as pn}from"./C_Nq6XFb.js";function yn(n){n.setAttribute("data-highlighted","")}function Xe(n){n.removeAttribute("data-highlighted")}function Tn(n,e=500){let u=null;return function(...l){const m=()=>{u=null,n(...l)};u&&clearTimeout(u),u=setTimeout(m,e)}}function Kt(n){const{open:e,forceVisible:u,activeTrigger:l}=n;return Ge([e,u,l],([m,c,o])=>(m||c)&&o!==null)}function G(n){Be&&Le(1).then(()=>{const e=document.activeElement;!d(e)||e===n||(e.tabIndex=-1,n&&(n.tabIndex=0,n.focus()))})}function Yt(){return Array.from(document.querySelectorAll('a[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])'))}function En(n){const e=Yt(),l=e.indexOf(n)+1,m=e[l];return l<e.length&&d(m)?m:null}function On(n){const e=Yt(),l=e.indexOf(n)-1,m=e[l];return l>=0&&d(m)?m:null}const _n=new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock"]),kn={onMatch:G,getCurrentItem:()=>document.activeElement};function wn(n={}){const e={...kn,...n},u=J(Q([])),l=Tn(()=>{u.update(()=>[])});return{typed:u,resetTyped:l,handleTypeaheadSearch:(c,o)=>{if(_n.has(c))return;const s=e.getCurrentItem(),h=un(u);if(!Array.isArray(h))return;h.push(c.toLowerCase()),u.set(h);const x=o.filter(v=>!(v.getAttribute("disabled")==="true"||v.getAttribute("aria-disabled")==="true"||v.hasAttribute("data-disabled"))),S=h.length>1&&h.every(v=>v===h[0])?h[0]:h.join(""),B=d(s)?x.indexOf(s):-1;let Y=dn(x,Math.max(B,0));S.length===1&&(Y=Y.filter(v=>v!==s));const V=Y.find(v=>(v==null?void 0:v.innerText)&&v.innerText.toLowerCase().startsWith(S.toLowerCase()));d(V)&&V!==s&&e.onMatch(V),l()}}}const Cn={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body"},Nt=(n,e)=>{n.dataset.escapee="";const{anchorElement:u,open:l,options:m}=e;if(!u||!l||!m)return{destroy:qe};const c={...Cn,...m},o=[];if(c.portal!==null&&o.push(jt(n,c.portal).destroy),o.push(bn(u,n,c.floating).destroy),c.focusTrap!==null){const{useFocusTrap:h}=fn({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:n,...c.focusTrap});o.push(h(n).destroy)}c.modal!==null&&o.push(gn(n,{onClose:()=>{d(u)&&(l.set(!1),u.focus())},shouldCloseOnInteractOutside:h=>!(h.defaultPrevented||d(u)&&u.contains(h.target)),...c.modal}).destroy),c.escapeKeydown!==null&&o.push(Ht(n,{enabled:l,handler:()=>{l.set(!1)},...c.escapeKeydown}).destroy);const s=ve(...o);return{destroy(){s()}}},In={ltr:[...pt,Z.ARROW_RIGHT],rtl:[...pt,Z.ARROW_LEFT]},An={ltr:[Z.ARROW_LEFT],rtl:[Z.ARROW_RIGHT]},Bt=["menu","trigger"],xn={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,loop:!1,dir:"ltr",defaultOpen:!1,typeahead:!0,closeOnItemClick:!0,onOutsideClick:void 0};function Pn(n){const{name:e,selector:u}=sn(n.selector),{preventScroll:l,arrowSize:m,positioning:c,closeOnEscape:o,closeOnOutsideClick:s,portal:h,forceVisible:x,typeahead:M,loop:S,closeFocus:B,disableFocusFirstItem:Y,closeOnItemClick:W,onOutsideClick:V}=n.rootOptions,v=n.rootOpen,L=n.rootActiveTrigger,y=n.nextFocusable,H=n.prevFocusable,A=J.writable(!1),se=J(Q(0)),ie=J(Q(null)),te=J(Q("right")),oe=J(Q(null)),ge=J(Ge([te,ie],([t,r])=>i=>t===(r==null?void 0:r.side)&&Mn(i,r==null?void 0:r.area))),{typed:et,handleTypeaheadSearch:ae}=wn(),he=vt({...Ft(Bt),...n.ids}),tt=Kt({open:v,forceVisible:x,activeTrigger:L}),Ot=de(e(),{stores:[tt,h,he.menu,he.trigger],returned:([t,r,i,a])=>({role:"menu",hidden:t?void 0:!0,style:it({display:t?void 0:"none"}),id:i,"aria-labelledby":a,"data-state":t?"open":"closed","data-portal":rn(r),tabindex:-1}),action:t=>{let r=qe;const i=me([tt,L,c,s,h,o],([b,F,ue,D,T,k])=>{r(),!(!b||!F)&&ft().then(()=>{r(),ut(t,u),r=Nt(t,{anchorElement:F,open:v,options:{floating:ue,modal:{closeOnInteractOutside:D,shouldCloseOnInteractOutside:p=>{var E;return(E=V.get())==null||E(p),!(p.defaultPrevented||d(F)&&F.contains(p.target))},onClose:()=>{v.set(!1),F.focus()},open:b},portal:Rt(t,T),escapeKeydown:k?void 0:null}}).destroy})}),a=ve(C(t,"keydown",b=>{const F=b.target,ue=b.currentTarget;if(!d(F)||!d(ue)||!(F.closest('[role="menu"]')===ue))return;if(Dt.includes(b.key)&&Lt(b,S.get()??!1),b.key===Z.TAB){b.preventDefault(),v.set(!1),Wt(b,y,H);return}const T=b.key.length===1;!(b.ctrlKey||b.altKey||b.metaKey)&&T&&M.get()===!0&&ae(b.key,Se(ue))}));return{destroy(){i(),a(),r()}}}}),_t=de(e("trigger"),{stores:[v,he.menu,he.trigger],returned:([t,r,i])=>({"aria-controls":r,"aria-expanded":t,"data-state":t?"open":"closed",id:i,tabindex:0}),action:t=>(gt(t),L.update(i=>i||t),{destroy:ve(C(t,"click",i=>{const a=v.get(),b=i.currentTarget;d(b)&&(U(b),a||i.preventDefault())}),C(t,"keydown",i=>{const a=i.currentTarget;if(!d(a)||!(pt.includes(i.key)||i.key===Z.ARROW_DOWN))return;i.preventDefault(),U(a);const b=a.getAttribute("aria-controls");if(!b)return;const F=document.getElementById(b);if(!F)return;const ue=Se(F);ue.length&&G(ue[0])}))})}),Ce=de(e("arrow"),{stores:m,returned:t=>({"data-arrow":!0,style:it({position:"absolute",width:`var(--arrow-size, ${t}px)`,height:`var(--arrow-size, ${t}px)`})})}),kt=de(e("overlay"),{stores:[tt],returned:([t])=>({hidden:t?void 0:!0,tabindex:-1,style:it({display:t?void 0:"none"}),"aria-hidden":"true","data-state":Fn(t)}),action:t=>{let r=qe;if(o.get()){const a=Ht(t,{handler:()=>{v.set(!1);const b=L.get();b&&b.focus()}});a&&a.destroy&&(r=a.destroy)}const i=me([h],([a])=>{if(a===null)return qe;const b=Rt(t,a);return b===null?qe:jt(t,b).destroy});return{destroy(){r(),i()}}}}),ct=de(e("item"),{returned:()=>({role:"menuitem",tabindex:-1,"data-orientation":"vertical"}),action:t=>(ut(t,u),gt(t),{destroy:ve(C(t,"pointerdown",i=>{const a=i.currentTarget;if(d(a)&&Te(a)){i.preventDefault();return}}),C(t,"click",i=>{const a=i.currentTarget;if(d(a)){if(Te(a)){i.preventDefault();return}if(i.defaultPrevented){G(a);return}W.get()&&Le(1).then(()=>{v.set(!1)})}}),C(t,"keydown",i=>{ne(i)}),C(t,"pointermove",i=>{_e(i)}),C(t,"pointerleave",i=>{Pe(i)}),C(t,"focusin",i=>{pe(i)}),C(t,"focusout",i=>{ye(i)}))})}),wt=de(e("group"),{returned:()=>t=>({role:"group","aria-labelledby":t})}),nt=de(e("group-label"),{returned:()=>t=>({id:t})}),Ie={defaultChecked:!1,disabled:!1},rt=t=>{const r={...Ie,...t},i=r.checked??Q(r.defaultChecked??null),a=mt(i,r.onCheckedChange),b=Q(r.disabled),F=de(e("checkbox-item"),{stores:[a,b],returned:([T,k])=>({role:"menuitemcheckbox",tabindex:-1,"data-orientation":"vertical","aria-checked":Ve(T)?"mixed":T?"true":"false","data-disabled":It(k),"data-state":Ct(T)}),action:T=>(ut(T,u),gt(T),{destroy:ve(C(T,"pointerdown",p=>{const E=p.currentTarget;if(d(E)&&Te(E)){p.preventDefault();return}}),C(T,"click",p=>{const E=p.currentTarget;if(d(E)){if(Te(E)){p.preventDefault();return}if(p.defaultPrevented){G(E);return}a.update(ke=>Ve(ke)?!0:!ke),W.get()&&ft().then(()=>{v.set(!1)})}}),C(T,"keydown",p=>{ne(p)}),C(T,"pointermove",p=>{const E=p.currentTarget;if(d(E)){if(Te(E)){Oe(p);return}_e(p,E)}}),C(T,"pointerleave",p=>{Pe(p)}),C(T,"focusin",p=>{pe(p)}),C(T,"focusout",p=>{ye(p)}))})}),ue=Ge(a,T=>T===!0),D=Ge(a,T=>T==="indeterminate");return{elements:{checkboxItem:F},states:{checked:a},helpers:{isChecked:ue,isIndeterminate:D},options:{disabled:b}}},st=(t={})=>{const r=t.value??Q(t.defaultValue??null),i=mt(r,t.onValueChange),a=de(e("radio-group"),{returned:()=>({role:"group"})}),b={disabled:!1},F=de(e("radio-item"),{stores:[i],returned:([D])=>T=>{const{value:k,disabled:p}={...b,...T},E=D===k;return{disabled:p,role:"menuitemradio","data-state":E?"checked":"unchecked","aria-checked":E,"data-disabled":It(p),"data-value":k,"data-orientation":"vertical",tabindex:-1}},action:D=>(ut(D,u),{destroy:ve(C(D,"pointerdown",k=>{const p=k.currentTarget;if(!d(p))return;const E=D.dataset.value;if(D.dataset.disabled||E===void 0){k.preventDefault();return}}),C(D,"click",k=>{const p=k.currentTarget;if(!d(p))return;const E=D.dataset.value;if(D.dataset.disabled||E===void 0){k.preventDefault();return}if(k.defaultPrevented){if(!d(p))return;G(p);return}i.set(E),W.get()&&ft().then(()=>{v.set(!1)})}),C(D,"keydown",k=>{ne(k)}),C(D,"pointermove",k=>{const p=k.currentTarget;if(!d(p))return;const E=D.dataset.value;if(D.dataset.disabled||E===void 0){Oe(k);return}_e(k,p)}),C(D,"pointerleave",k=>{Pe(k)}),C(D,"focusin",k=>{pe(k)}),C(D,"focusout",k=>{ye(k)}))})}),ue=Ge(i,D=>T=>D===T);return{elements:{radioGroup:a,radioItem:F},states:{value:i},helpers:{isChecked:ue}}},{elements:{root:ce}}=pn({orientation:"horizontal"}),ze={...xn,disabled:!1,positioning:{placement:"right-start",gutter:8}},Ae=t=>{const r={...ze,...t},i=r.open??Q(!1),a=mt(i,r==null?void 0:r.onOpenChange),b=vt(Xt(r,"ids")),{positioning:F,arrowSize:ue,disabled:D}=b,T=J(Q(null)),k=J(Q(null)),p=J(Q(0)),E=vt({...Ft(Bt),...r.ids});St(()=>{const O=document.getElementById(E.trigger.get());O&&T.set(O)});const ke=Kt({open:a,forceVisible:x,activeTrigger:T}),Gt=de(e("submenu"),{stores:[ke,E.menu,E.trigger],returned:([O,j,le])=>({role:"menu",hidden:O?void 0:!0,style:it({display:O?void 0:"none"}),id:j,"aria-labelledby":le,"data-state":O?"open":"closed","data-id":j,tabindex:-1}),action:O=>{let j=qe;const le=me([ke,F],([f,I])=>{if(j(),!f)return;const R=T.get();R&&ft().then(()=>{j();const z=Pt(R);j=Nt(O,{anchorElement:R,open:a,options:{floating:I,portal:d(z)?z:void 0,modal:null,focusTrap:null,escapeKeydown:null}}).destroy})}),w=ve(C(O,"keydown",f=>{if(f.key===Z.ESCAPE)return;const I=f.target,R=f.currentTarget;if(!d(I)||!d(R)||!(I.closest('[role="menu"]')===R))return;if(Dt.includes(f.key)){f.stopImmediatePropagation(),Lt(f,S.get()??!1);return}const Ue=An.ltr.includes(f.key),He=f.ctrlKey||f.altKey||f.metaKey,dt=f.key.length===1;if(Ue){const Mt=T.get();f.preventDefault(),a.update(()=>(Mt&&G(Mt),!1));return}if(f.key===Z.TAB){f.preventDefault(),v.set(!1),Wt(f,y,H);return}!He&&dt&&M.get()===!0&&ae(f.key,Se(R))}),C(O,"pointermove",f=>{q(f)}),C(O,"focusout",f=>{const I=T.get();if(A.get()){const R=f.target,z=document.getElementById(E.menu.get());if(!d(z)||!d(R))return;!z.contains(R)&&R!==I&&a.set(!1)}else{const R=f.currentTarget,z=f.relatedTarget;if(!d(z)||!d(R))return;!R.contains(z)&&z!==I&&a.set(!1)}}));return{destroy(){le(),j(),w()}}}}),Qt=de(e("subtrigger"),{stores:[a,D,E.menu,E.trigger],returned:([O,j,le,w])=>({role:"menuitem",id:w,tabindex:-1,"aria-controls":le,"aria-expanded":O,"data-state":O?"open":"closed","data-disabled":It(j),"aria-haspopop":"menu"}),action:O=>{ut(O,u),gt(O),T.update(w=>w||O);const j=()=>{At(k),window.clearTimeout(p.get()),ie.set(null)},le=ve(C(O,"click",w=>{if(w.defaultPrevented)return;const f=w.currentTarget;!d(f)||Te(f)||(G(f),a.get()||a.update(I=>I||(T.set(f),!I)))}),C(O,"keydown",w=>{const f=et.get(),I=w.currentTarget;if(!(!d(I)||Te(I)||f.length>0&&w.key===Z.SPACE)&&In.ltr.includes(w.key)){if(!a.get()){I.click(),w.preventDefault();return}const z=I.getAttribute("aria-controls");if(!z)return;const Ue=document.getElementById(z);if(!d(Ue))return;const He=Se(Ue)[0];G(He)}}),C(O,"pointermove",w=>{if(!at(w)||(X(w),w.defaultPrevented))return;const f=w.currentTarget;if(!d(f))return;Sn(E.menu.get())||G(f);const I=k.get();!a.get()&&!I&&!Te(f)&&k.set(window.setTimeout(()=>{a.update(()=>(T.set(f),!0)),At(k)},100))}),C(O,"pointerleave",w=>{if(!at(w))return;At(k);const f=document.getElementById(E.menu.get()),I=f==null?void 0:f.getBoundingClientRect();if(I){const R=f==null?void 0:f.dataset.side,z=R==="right",Ue=z?-5:5,He=I[z?"left":"right"],dt=I[z?"right":"left"];ie.set({area:[{x:w.clientX+Ue,y:w.clientY},{x:He,y:I.top},{x:dt,y:I.top},{x:dt,y:I.bottom},{x:He,y:I.bottom}],side:R}),window.clearTimeout(p.get()),p.set(window.setTimeout(()=>{ie.set(null)},300))}else{if(xe(w),w.defaultPrevented)return;ie.set(null)}}),C(O,"focusout",w=>{const f=w.currentTarget;if(!d(f))return;Xe(f);const I=w.relatedTarget;if(!d(I))return;const R=f.getAttribute("aria-controls");if(!R)return;const z=document.getElementById(R);z&&!z.contains(I)&&a.set(!1)}),C(O,"focusin",w=>{pe(w)}));return{destroy(){j(),le()}}}}),Jt=de(e("subarrow"),{stores:ue,returned:O=>({"data-arrow":!0,style:it({position:"absolute",width:`var(--arrow-size, ${O}px)`,height:`var(--arrow-size, ${O}px)`})})});return me([v],([O])=>{O||(T.set(null),a.set(!1))}),me([ie],([O])=>{!Be||O||window.clearTimeout(p.get())}),me([a],([O])=>{if(Be&&(O&&A.get()&&Le(1).then(()=>{const j=document.getElementById(E.menu.get());if(!j)return;const le=Se(j);le.length&&G(le[0])}),!O)){const j=oe.get(),le=document.getElementById(E.trigger.get());if(j&&Le(1).then(()=>{const w=document.getElementById(E.menu.get());w&&w.contains(j)&&Xe(j)}),!le||document.activeElement===le)return;Xe(le)}}),{ids:E,elements:{subTrigger:Qt,subMenu:Gt,subArrow:Jt},states:{subOpen:a},options:b}};St(()=>{const t=document.getElementById(he.trigger.get());d(t)&&v.get()&&L.set(t);const r=[],i=()=>A.set(!1),a=()=>{A.set(!0),r.push(ve(De(document,"pointerdown",i,{capture:!0,once:!0}),De(document,"pointermove",i,{capture:!0,once:!0})))},b=F=>{if(F.key===Z.ESCAPE&&o.get()){v.set(!1);return}};return r.push(De(document,"keydown",a,{capture:!0})),r.push(De(document,"keydown",b)),()=>{r.forEach(F=>F())}}),me([v,oe],([t,r])=>{!t&&r&&Xe(r)}),me([v],([t])=>{if(Be&&!t){const r=L.get();if(!r)return;const i=B.get();!t&&r&&mn({prop:i,defaultEl:r})}}),me([v,l],([t,r])=>{if(!Be)return;const i=[];return t&&r&&i.push(vn()),Le(1).then(()=>{const a=document.getElementById(he.menu.get());if(a&&t&&A.get()){if(Y.get()){G(a);return}const b=Se(a);if(!b.length)return;G(b[0])}}),()=>{i.forEach(a=>a())}}),me(v,t=>{if(!Be)return;const r=()=>A.set(!1),i=a=>{if(A.set(!0),a.key===Z.ESCAPE&&t&&o.get()){v.set(!1);return}};return ve(De(document,"pointerdown",r,{capture:!0,once:!0}),De(document,"pointermove",r,{capture:!0,once:!0}),De(document,"keydown",i,{capture:!0}))});function U(t){v.update(r=>{const i=!r;return i&&(y.set(En(t)),H.set(On(t)),L.set(t)),i})}function pe(t){const r=t.currentTarget;if(!d(r))return;const i=oe.get();i&&Xe(i),yn(r),oe.set(r)}function ye(t){const r=t.currentTarget;d(r)&&Xe(r)}function X(t){Me(t)&&t.preventDefault()}function Oe(t){if(Me(t))return;const r=t.target;if(!d(r))return;const i=Pt(r);i&&G(i)}function xe(t){Me(t)&&t.preventDefault()}function q(t){if(!at(t))return;const r=t.target,i=t.currentTarget;if(!d(i)||!d(r))return;const a=se.get(),b=a!==t.clientX;if(i.contains(r)&&b){const F=t.clientX>a?"right":"left";te.set(F),se.set(t.clientX)}}function _e(t,r=null){if(!at(t)||(X(t),t.defaultPrevented))return;if(r){G(r);return}const i=t.currentTarget;d(i)&&G(i)}function Pe(t){at(t)&&Oe(t)}function ne(t){if(et.get().length>0&&t.key===Z.SPACE){t.preventDefault();return}if(pt.includes(t.key)){t.preventDefault();const a=t.currentTarget;if(!d(a))return;a.click()}}function Ve(t){return t==="indeterminate"}function Ct(t){return Ve(t)?"indeterminate":t?"checked":"unchecked"}function Me(t){return ge.get()(t)}function Pt(t){const r=t.closest('[role="menu"]');return d(r)?r:null}return{elements:{trigger:_t,menu:Ot,overlay:kt,item:ct,group:wt,groupLabel:nt,arrow:Ce,separator:ce},builders:{createCheckboxItem:rt,createSubmenu:Ae,createMenuRadioGroup:st},states:{open:v},helpers:{handleTypeaheadSearch:ae},ids:he,options:n.rootOptions}}function Wt(n,e,u){if(n.shiftKey){const l=u.get();l&&(n.preventDefault(),Le(1).then(()=>l.focus()),u.set(null))}else{const l=e.get();l&&(n.preventDefault(),Le(1).then(()=>l.focus()),e.set(null))}}function Se(n){return Array.from(n.querySelectorAll(`[data-melt-menu-id="${n.id}"]`)).filter(e=>d(e))}function gt(n){!n||!Te(n)||(n.setAttribute("data-disabled",""),n.setAttribute("aria-disabled","true"))}function At(n){if(!Be)return;const e=n.get();e&&(window.clearTimeout(e),n.set(null))}function at(n){return n.pointerType==="mouse"}function ut(n,e){if(!n)return;const u=n.closest(`${e()}, ${e("submenu")}`);d(u)&&n.setAttribute("data-melt-menu-id",u.id)}function Lt(n,e){n.preventDefault();const u=document.activeElement,l=n.currentTarget;if(!d(u)||!d(l))return;const m=Se(l);if(!m.length)return;const c=m.filter(h=>!(h.hasAttribute("data-disabled")||h.getAttribute("disabled")==="true")),o=c.indexOf(u);let s;switch(n.key){case Z.ARROW_DOWN:e?s=o<c.length-1?o+1:0:s=o<c.length-1?o+1:o;break;case Z.ARROW_UP:e?s=o>0?o-1:c.length-1:s=o<0?c.length-1:o>0?o-1:0;break;case Z.HOME:s=0;break;case Z.END:s=c.length-1;break;default:return}G(c[s])}function Mn(n,e){if(!e)return!1;const u={x:n.clientX,y:n.clientY};return Dn(u,e)}function Dn(n,e){const{x:u,y:l}=n;let m=!1;for(let c=0,o=e.length-1;c<e.length;o=c++){const s=e[c].x,h=e[c].y,x=e[o].x,M=e[o].y;h>l!=M>l&&u<(x-s)*(l-h)/(M-h)+s&&(m=!m)}return m}function Sn(n){const e=document.activeElement;if(!d(e))return!1;const u=e.closest(`[data-id="${n}"]`);return d(u)}function Fn(n){return n?"open":"closed"}const Rn={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,loop:!1,dir:"ltr",defaultOpen:!1,forceVisible:!1,typeahead:!0,closeFocus:void 0,disableFocusFirstItem:!1,closeOnItemClick:!0,onOutsideClick:void 0};function Kn(n){const e={...Rn,...n},u=vt(Xt(e,"ids")),l=e.open??Q(e.defaultOpen),m=mt(l,e==null?void 0:e.onOpenChange),c=J(Q(null)),o=J(Q(null)),s=J(Q(null)),{elements:h,builders:x,ids:M,states:S,options:B}=Pn({rootOptions:u,rootOpen:m,rootActiveTrigger:J(c),nextFocusable:J(o),prevFocusable:J(s),selector:"dropdown-menu",removeScroll:!0,ids:e.ids});return{ids:M,elements:h,states:S,builders:x,options:B}}function qt(){return{NAME:"menu",SUB_NAME:"menu-submenu",RADIO_GROUP_NAME:"menu-radiogroup",CHECKBOX_ITEM_NAME:"menu-checkboxitem",RADIO_ITEM_NAME:"menu-radioitem",GROUP_NAME:"menu-group",PARTS:["arrow","checkbox-indicator","checkbox-item","content","group","item","label","radio-group","radio-item","radio-indicator","separator","sub-content","sub-trigger","trigger"]}}function Et(){const{NAME:n}=qt();return Zt(n)}function Nn(n){const{NAME:e,PARTS:u}=qt(),l=on("menu",u),m={...Kn({...ln(n),forceVisible:!0}),getAttrs:l};return $t(e,m),{...m,updateOption:cn(m.options)}}function Bn(n){const u={...{side:"bottom",align:"center"},...n},{options:{positioning:l}}=Et();hn(l)(u)}function Wn(n,e){const u=be(e,["children","$$slots","$$events","$$legacy"]),l=be(u,["href","asChild","disabled","el"]);Je(e,!1);const m=Tt(),c=()=>lt(B,"$item",m),o=ht(),s=ht();let h=g(e,"href",24,()=>{}),x=g(e,"asChild",8,!1),M=g(e,"disabled",8,!1),S=g(e,"el",28,()=>{});const{elements:{item:B},getAttrs:Y}=Et(),W=xt();K(()=>c(),()=>{bt(o,c())}),K(()=>P(M()),()=>{bt(s,{...Y("item"),...an(M())})}),K(()=>(_(o),_(s)),()=>{Object.assign(_(o),_(s))}),yt(),Qe();var V=$(),v=ee(V);we(v,x,L=>{var y=$(),H=ee(y);fe(H,e,"default",{get builder(){return _(o)}},null),N(L,y)},L=>{var y=$(),H=ee(y);tn(H,()=>h()?"a":"div",!1,(A,se)=>{Ne(A,ge=>S(ge),()=>S()),We(A,ge=>_(o).action(ge));let ie;Fe(()=>ie=Ke(A,ie,{href:h(),..._(o),...l},void 0,A.namespaceURI===en,A.nodeName.includes("-"))),re("m-click",A,W),re("m-focusin",A,W),re("m-focusout",A,W),re("m-keydown",A,W),re("m-pointerdown",A,W),re("m-pointerleave",A,W),re("m-pointermove",A,W),re("pointerenter",A,function(ge){Ee.call(this,e,ge)});var te=$(),oe=ee(te);fe(oe,e,"default",{get builder(){return _(o)}},null),N(se,te)}),N(L,y)}),N(n,V),Ze()}function Ln(n,e){Je(e,!1);const u=Tt(),l=()=>lt(A,"$idValues",u);let m=g(e,"closeOnOutsideClick",24,()=>{}),c=g(e,"closeOnEscape",24,()=>{}),o=g(e,"portal",24,()=>{}),s=g(e,"open",28,()=>{}),h=g(e,"onOpenChange",24,()=>{}),x=g(e,"preventScroll",24,()=>{}),M=g(e,"loop",24,()=>{}),S=g(e,"dir",24,()=>{}),B=g(e,"typeahead",24,()=>{}),Y=g(e,"closeFocus",24,()=>{}),W=g(e,"disableFocusFirstItem",24,()=>{}),V=g(e,"closeOnItemClick",24,()=>{}),v=g(e,"onOutsideClick",24,()=>{});const{states:{open:L},updateOption:y,ids:H}=Nn({closeOnOutsideClick:m(),closeOnEscape:c(),portal:o(),forceVisible:!0,defaultOpen:s(),preventScroll:x(),loop:M(),dir:S(),typeahead:B(),closeFocus:Y(),disableFocusFirstItem:W(),closeOnItemClick:V(),onOutsideClick:v(),onOpenChange:({next:te})=>{var oe;return s()!==te&&((oe=h())==null||oe(te),s(te)),te}}),A=Ge([H.menu,H.trigger],([te,oe])=>({menu:te,trigger:oe}));K(()=>P(s()),()=>{s()!==void 0&&L.set(s())}),K(()=>P(m()),()=>{y("closeOnOutsideClick",m())}),K(()=>P(c()),()=>{y("closeOnEscape",c())}),K(()=>P(o()),()=>{y("portal",o())}),K(()=>P(x()),()=>{y("preventScroll",x())}),K(()=>P(M()),()=>{y("loop",M())}),K(()=>P(S()),()=>{y("dir",S())}),K(()=>P(Y()),()=>{y("closeFocus",Y())}),K(()=>P(W()),()=>{y("disableFocusFirstItem",W())}),K(()=>P(B()),()=>{y("typeahead",B())}),K(()=>P(V()),()=>{y("closeOnItemClick",V())}),K(()=>P(v()),()=>{y("onOutsideClick",v())}),yt(),Qe();var se=$(),ie=ee(se);fe(ie,e,"default",{get ids(){return l()}},null),N(n,se),Ze()}var zn=$e("<div><!></div>"),Vn=$e("<div><!></div>"),Un=$e("<div><!></div>"),Hn=$e("<div><!></div>"),Xn=$e("<div><!></div>");function jn(n,e){const u=be(e,["children","$$slots","$$events","$$legacy"]),l=be(u,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"]);Je(e,!1);const m=Tt(),c=()=>lt(he,"$menu",m),o=()=>lt(tt,"$open",m),s=ht();let h=g(e,"transition",24,()=>{}),x=g(e,"transitionConfig",24,()=>{}),M=g(e,"inTransition",24,()=>{}),S=g(e,"inTransitionConfig",24,()=>{}),B=g(e,"outTransition",24,()=>{}),Y=g(e,"outTransitionConfig",24,()=>{}),W=g(e,"asChild",8,!1),V=g(e,"id",24,()=>{}),v=g(e,"side",8,"bottom"),L=g(e,"align",8,"center"),y=g(e,"sideOffset",8,0),H=g(e,"alignOffset",8,0),A=g(e,"collisionPadding",8,8),se=g(e,"avoidCollisions",8,!0),ie=g(e,"collisionBoundary",24,()=>{}),te=g(e,"sameWidth",8,!1),oe=g(e,"fitViewport",8,!1),ge=g(e,"strategy",8,"absolute"),et=g(e,"overlap",8,!1),ae=g(e,"el",28,()=>{});const{elements:{menu:he},states:{open:tt},ids:Ot,getAttrs:_t}=Et(),Ce=xt(),kt=_t("content");K(()=>P(V()),()=>{V()&&Ot.menu.set(V())}),K(()=>c(),()=>{bt(s,c())}),K(()=>_(s),()=>{Object.assign(_(s),kt)}),K(()=>(o(),P(v()),P(L()),P(y()),P(H()),P(A()),P(se()),P(ie()),P(te()),P(oe()),P(ge()),P(et())),()=>{o()&&Bn({side:v(),align:L(),sideOffset:y(),alignOffset:H(),collisionPadding:A(),avoidCollisions:se(),collisionBoundary:ie(),sameWidth:te(),fitViewport:oe(),strategy:ge(),overlap:et()})}),yt(),Qe();var ct=$(),wt=ee(ct);we(wt,()=>W()&&o(),nt=>{var Ie=$(),rt=ee(Ie);fe(rt,e,"default",{get builder(){return _(s)}},null),N(nt,Ie)},nt=>{var Ie=$(),rt=ee(Ie);we(rt,()=>h()&&o(),st=>{var ce=zn();let ze;var Ae=je(ce);fe(Ae,e,"default",{get builder(){return _(s)}},null),Ye(ce),Ne(ce,U=>ae(U),()=>ae()),We(ce,U=>_(s).action(U)),Re(()=>re("m-keydown",ce,Ce)),Fe(()=>ze=Ke(ce,ze,{..._(s),...l})),ot(3,ce,h,x),N(st,ce)},st=>{var ce=$(),ze=ee(ce);we(ze,()=>M()&&B()&&o(),Ae=>{var U=Vn();let pe;var ye=je(U);fe(ye,e,"default",{get builder(){return _(s)}},null),Ye(U),Ne(U,X=>ae(X),()=>ae()),We(U,X=>_(s).action(X)),Re(()=>re("m-keydown",U,Ce)),Fe(()=>pe=Ke(U,pe,{..._(s),...l})),ot(1,U,M,S),ot(2,U,B,Y),N(Ae,U)},Ae=>{var U=$(),pe=ee(U);we(pe,()=>M()&&o(),ye=>{var X=Un();let Oe;var xe=je(X);fe(xe,e,"default",{get builder(){return _(s)}},null),Ye(X),Ne(X,q=>ae(q),()=>ae()),We(X,q=>_(s).action(q)),Re(()=>re("m-keydown",X,Ce)),Fe(()=>Oe=Ke(X,Oe,{..._(s),...l})),ot(1,X,M,S),N(ye,X)},ye=>{var X=$(),Oe=ee(X);we(Oe,()=>B()&&o(),xe=>{var q=Hn();let _e;var Pe=je(q);fe(Pe,e,"default",{get builder(){return _(s)}},null),Ye(q),Ne(q,ne=>ae(ne),()=>ae()),We(q,ne=>_(s).action(ne)),Re(()=>re("m-keydown",q,Ce)),Fe(()=>_e=Ke(q,_e,{..._(s),...l})),ot(2,q,B,Y),N(xe,q)},xe=>{var q=$(),_e=ee(q);we(_e,o,Pe=>{var ne=Xn();let Ve;var Ct=je(ne);fe(Ct,e,"default",{get builder(){return _(s)}},null),Ye(ne),Ne(ne,Me=>ae(Me),()=>ae()),We(ne,Me=>_(s).action(Me)),Re(()=>re("m-keydown",ne,Ce)),Fe(()=>Ve=Ke(ne,Ve,{..._(s),...l})),N(Pe,ne)},null,!0),N(xe,q)},!0),N(ye,X)},!0),N(Ae,U)},!0),N(st,ce)},!0),N(nt,Ie)}),N(n,ct),Ze()}var Yn=$e("<button><!></button>");function qn(n,e){const u=be(e,["children","$$slots","$$events","$$legacy"]),l=be(u,["asChild","id","el"]);Je(e,!1);const m=Tt(),c=()=>lt(M,"$trigger",m),o=ht();let s=g(e,"asChild",8,!1),h=g(e,"id",24,()=>{}),x=g(e,"el",28,()=>{});const{elements:{trigger:M},ids:S,getAttrs:B}=Et(),Y=xt(),W=B("trigger");K(()=>P(h()),()=>{h()&&S.trigger.set(h())}),K(()=>c(),()=>{bt(o,c())}),K(()=>_(o),()=>{Object.assign(_(o),W)}),yt(),Qe();var V=$(),v=ee(V);we(v,s,L=>{var y=$(),H=ee(y);fe(H,e,"default",{get builder(){return _(o)}},null),N(L,y)},L=>{var y=Yn();let H;var A=je(y);fe(A,e,"default",{get builder(){return _(o)}},null),Ye(y),Ne(y,se=>x(se),()=>x()),We(y,se=>_(o).action(se)),Re(()=>re("m-keydown",y,Y)),Re(()=>re("m-pointerdown",y,Y)),Fe(()=>H=Ke(y,H,{..._(o),type:"button",...l})),N(L,y)}),N(n,V),Ze()}function fr(n,e){const u=be(e,["children","$$slots","$$events","$$legacy"]),l=be(u,["class","inset"]);Je(e,!1);let m=g(e,"class",8,void 0),c=g(e,"inset",8,void 0);Qe();var o=zt(()=>Vt("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",c()&&"pl-8",m()));Wn(n,Ut({get class(){return _(o)}},()=>l,{$$events:{click(s){Ee.call(this,e,s)},keydown(s){Ee.call(this,e,s)},focusin(s){Ee.call(this,e,s)},focusout(s){Ee.call(this,e,s)},pointerdown(s){Ee.call(this,e,s)},pointerleave(s){Ee.call(this,e,s)},pointermove(s){Ee.call(this,e,s)}},children:(s,h)=>{var x=$(),M=ee(x);fe(M,e,"default",{},null),N(s,x)},$$slots:{default:!0}})),Ze()}function gr(n,e){const u=be(e,["children","$$slots","$$events","$$legacy"]),l=be(u,["class","sideOffset","transition","transitionConfig"]);Je(e,!1);let m=g(e,"class",8,void 0),c=g(e,"sideOffset",8,4),o=g(e,"transition",8,nn),s=g(e,"transitionConfig",8,void 0);Qe();var h=zt(()=>Vt("bg-popover text-popover-foreground z-50 min-w-[8rem] rounded-md border p-1 shadow-md focus:outline-none",m()));jn(n,Ut({get transition(){return o()},get transitionConfig(){return s()},get sideOffset(){return c()},get class(){return _(h)}},()=>l,{$$events:{keydown(x){Ee.call(this,e,x)}},children:(x,M)=>{var S=$(),B=ee(S);fe(B,e,"default",{},null),N(x,S)},$$slots:{default:!0}})),Ze()}const mr=Ln,vr=qn;export{gr as D,mr as R,vr as T,fr as a};
