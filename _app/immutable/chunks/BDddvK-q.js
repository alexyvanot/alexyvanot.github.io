var re=Object.defineProperty;var Y=e=>{throw TypeError(e)};var se=(e,r,s)=>r in e?re(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var j=(e,r,s)=>se(e,typeof r!="symbol"?r+"":r,s),q=(e,r,s)=>r.has(e)||Y("Cannot "+s);var i=(e,r,s)=>(q(e,r,"read from private field"),s?s.call(e):r.get(e)),h=(e,r,s)=>r.has(e)?Y("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,s),$=(e,r,s,t)=>(q(e,r,"write to private field"),t?t.call(e,s):r.set(e,s),s);import{N as C,a6 as te,a7 as A,a8 as ne,a9 as F,aa as z,h as ie,c as ae,ab as fe,ac as ue,L as ce,P as oe,u as Z,a3 as le,ad as T,ae as de,X as E,J as pe,af as he,q as H,ag as _e,w as g,ah as ve,ai as M,aj as be,ak as Q,al as we,am as Pe,b as B,an as Se,ao as xe,ap as ge,I as Oe,aq as me,ar as ye,U as Ie,Y as De,as as G,at as J,au as Re,a2 as x,av as V}from"./BNGu9lvx.js";var l,p,c,_,O,m,D;class Ue{constructor(r,s=!0){j(this,"anchor");h(this,l,new Map);h(this,p,new Map);h(this,c,new Map);h(this,_,new Set);h(this,O,!0);h(this,m,()=>{var r=C;if(i(this,l).has(r)){var s=i(this,l).get(r),t=i(this,p).get(s);if(t)te(t),i(this,_).delete(s);else{var n=i(this,c).get(s);n&&(i(this,p).set(s,n.effect),i(this,c).delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[a,o]of i(this,l)){if(i(this,l).delete(a),a===r)break;const f=i(this,c).get(o);f&&(A(f.effect),i(this,c).delete(o))}for(const[a,o]of i(this,p)){if(a===s||i(this,_).has(a))continue;const f=()=>{if(Array.from(i(this,l).values()).includes(a)){var v=document.createDocumentFragment();fe(o,v),v.append(F()),i(this,c).set(a,{effect:o,fragment:v})}else A(o);i(this,_).delete(a),i(this,p).delete(a)};i(this,O)||!t?(i(this,_).add(a),ne(o,f,!1)):f()}}});h(this,D,r=>{i(this,l).delete(r);const s=Array.from(i(this,l).values());for(const[t,n]of i(this,c))s.includes(t)||(A(n.effect),i(this,c).delete(t))});this.anchor=r,$(this,O,s)}ensure(r,s){var t=C,n=ue();if(s&&!i(this,p).has(r)&&!i(this,c).has(r))if(n){var a=document.createDocumentFragment(),o=F();a.append(o),i(this,c).set(r,{effect:z(()=>s(o)),fragment:a})}else i(this,p).set(r,z(()=>s(this.anchor)));if(i(this,l).set(t,r),n){for(const[f,d]of i(this,p))f===r?t.skipped_effects.delete(d):t.skipped_effects.add(d);for(const[f,d]of i(this,c))f===r?t.skipped_effects.delete(d.effect):t.skipped_effects.add(d.effect);t.oncommit(i(this,m)),t.ondiscard(i(this,D))}else ie&&(this.anchor=ae),i(this,m).call(this)}}l=new WeakMap,p=new WeakMap,c=new WeakMap,_=new WeakMap,O=new WeakMap,m=new WeakMap,D=new WeakMap;function X(e,r){return e===r||(e==null?void 0:e[T])===r}function Ke(e={},r,s,t){return ce(()=>{var n,a;return oe(()=>{n=a,a=[],Z(()=>{e!==s(...a)&&(r(e,...a),n&&X(s(...n),e)&&r(null,...n))})}),()=>{le(()=>{a&&X(s(...a),e)&&r(null,...a)})}}),e}let I=!1,L=Symbol();function Ye(e,r,s){const t=s[r]??(s[r]={store:null,source:pe(void 0),unsubscribe:E});if(t.store!==e&&!(L in s))if(t.unsubscribe(),t.store=e??null,e==null)t.source.v=void 0,t.unsubscribe=E;else{var n=!0;t.unsubscribe=he(e,a=>{n?t.source.v=a:H(t.source,a)}),n=!1}return e&&L in s?_e(e):g(t.source)}function je(e,r,s){let t=s[r];return t&&t.store!==e&&(t.unsubscribe(),t.unsubscribe=E),e}function qe(){const e={};function r(){de(()=>{for(var s in e)e[s].unsubscribe();ve(e,L,{enumerable:!1,value:!0})})}return[e,r]}function Ae(e){var r=I;try{return I=!1,[e(),I]}finally{I=r}}const Ee={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function $e(e,r,s){return new Proxy({props:e,exclude:r},Ee)}const Me={get(e,r){if(!e.exclude.includes(r))return g(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,s){if(!(r in e.special)){var t=B;try{J(e.parent_effect),e.special[r]=Te({get[r](){return e.props[r]}},r,Q)}finally{J(t)}}return e.special[r](s),G(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),G(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Ce(e,r){return new Proxy({props:e,exclude:r,special:{},version:xe(0),parent_effect:B},Me)}const Le={get(e,r){let s=e.props.length;for(;s--;){let t=e.props[s];if(x(t)&&(t=t()),typeof t=="object"&&t!==null&&r in t)return t[r]}},set(e,r,s){let t=e.props.length;for(;t--;){let n=e.props[t];x(n)&&(n=n());const a=M(n,r);if(a&&a.set)return a.set(s),!0}return!1},getOwnPropertyDescriptor(e,r){let s=e.props.length;for(;s--;){let t=e.props[s];if(x(t)&&(t=t()),typeof t=="object"&&t!==null&&r in t){const n=M(t,r);return n&&!n.configurable&&(n.configurable=!0),n}}},has(e,r){if(r===T||r===V)return!1;for(let s of e.props)if(x(s)&&(s=s()),s!=null&&r in s)return!0;return!1},ownKeys(e){const r=[];for(let s of e.props)if(x(s)&&(s=s()),!!s){for(const t in s)r.includes(t)||r.push(t);for(const t of Object.getOwnPropertySymbols(s))r.includes(t)||r.push(t)}return r}};function Fe(...e){return new Proxy({props:e},Le)}function Te(e,r,s,t){var U;var n=!Oe||(s&me)!==0,a=(s&ge)!==0,o=(s&Re)!==0,f=t,d=!0,v=()=>(d&&(d=!1,f=o?Z(t):t),f),w;if(a){var W=T in e||V in e;w=((U=M(e,r))==null?void 0:U.set)??(W&&r in e?u=>e[r]=u:void 0)}var P,N=!1;a?[P,N]=Ae(()=>e[r]):P=e[r],P===void 0&&t!==void 0&&(P=v(),w&&(n&&be(),w(P)));var b;if(n?b=()=>{var u=e[r];return u===void 0?v():(d=!0,u)}:b=()=>{var u=e[r];return u!==void 0&&(f=void 0),u===void 0?f:u},n&&(s&Q)===0)return b;if(w){var k=e.$$legacy;return(function(u,y){return arguments.length>0?((!n||!y||k||N)&&w(y?b():u),u):b()})}var R=!1,S=((s&ye)!==0?Ie:De)(()=>(R=!1,b()));a&&g(S);var ee=B;return(function(u,y){if(arguments.length>0){const K=y?g(S):n&&a?we(u):u;return H(S,K),R=!0,f!==void 0&&(f=K),u}return Pe&&R||(ee.f&Se)!==0?S.v:g(S)})}export{Ue as B,qe as a,Fe as b,Ke as c,je as d,Ce as l,Te as p,$e as r,Ye as s};
