import{d as S,b as y,f as I,r as te}from"./BZoaSUgW.js";import{i as L}from"./BpdQ7fpM.js";import{aN as ae,aP as se,aQ as K,p,aq as M,k as $,ar as R,m as C,j as x,i as V,l as X,q as j,A as q,w as v,U,u as B}from"./BI2q08Qa.js";import{o as ne,u as le,v as re,m as H,x as J,s as P,a as W,k as Y,c as N}from"./DfgKUnjB.js";import{l as m,p as u,i as Q,c as D,d as oe,s as Z,a as ee,b as F}from"./PI6GPKW4.js";import{o as ie}from"./BXvODphD.js";import{t as de,r as ce,g as ue}from"./CZ1awVau.js";import{c as fe}from"./BdYWJ-Y7.js";const ge={src:"",delayMs:0,onLoadingStatusChange:void 0},ve=s=>{const e={...ge,...s},n=de(ne(e,"loadingStatus","onLoadingStatusChange")),{src:f,delayMs:a}=n,d=e.loadingStatus??ae("loading"),i=ie(d,e==null?void 0:e.onLoadingStatusChange);le([f,a],([r,_])=>{if(re){const h=new Image;h.src=r,h.onload=()=>{if(a!==void 0){const A=window.setTimeout(()=>{i.set("loaded")},_);return()=>window.clearTimeout(A)}else i.set("loaded")},h.onerror=()=>{i.set("error")}}});const l=H("avatar-image",{stores:[f,i],returned:([r,_])=>{const h=J({display:_==="loaded"?"block":"none"});return{src:r,style:h}}}),c=H("avatar-fallback",{stores:[i],returned:([r])=>({style:r==="loaded"?J({display:"none"}):void 0,hidden:r==="loaded"?!0:void 0})});return{elements:{image:l,fallback:c},states:{loadingStatus:i},options:n}};function G(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function me(s){const{NAME:e,PARTS:n}=G(),f=fe(e,n),a={...ve(ce(s)),getAttrs:f};return se(e,a),{...a,updateOption:ue(a.options)}}function _e(s=""){const{NAME:e}=G(),n=K(e);return s?n.options.src.set(s):n.options.src.set(""),n}function he(){const{NAME:s}=G();return K(s)}var be=I("<div><!></div>");function ye(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);p(e,!1);let a=u(e,"delayMs",24,()=>{}),d=u(e,"loadingStatus",28,()=>{}),i=u(e,"onLoadingStatusChange",24,()=>{}),l=u(e,"asChild",8,!1),c=u(e,"el",28,()=>{});const{states:{loadingStatus:r},updateOption:_,getAttrs:h}=me({src:"",delayMs:a(),onLoadingStatusChange:({next:o})=>{var t;return d(o),(t=i())==null||t(o),o}}),A=h("root");M(()=>$(d()),()=>{d()!==void 0&&r.set(d())}),M(()=>$(a()),()=>{_("delayMs",a())}),R(),L();var k=S(),w=C(k);{var z=o=>{var t=S(),g=C(t);P(g,e,"default",{get attrs(){return A}},null),y(o,t)},E=o=>{var t=be();W(t,()=>({...f,...A}));var g=V(t);P(g,e,"default",{get attrs(){return A}},null),X(t),D(t,b=>c(b),()=>c()),y(o,t)};Q(w,o=>{l()?o(z):o(E,!1)})}y(s,k),x()}var Ae=I("<img/>");function $e(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["src","alt","asChild","el"]);p(e,!1);const a=()=>Z(v(l),"$image",d),[d,i]=ee(),l=q(),c=q();let r=u(e,"src",24,()=>{}),_=u(e,"alt",24,()=>{}),h=u(e,"asChild",8,!1),A=u(e,"el",28,()=>{});const k={"data-bits-avatar-image":""};M(()=>$(r()),()=>{oe(j(l,_e(r()).elements.image),"$image",d)}),M(()=>a(),()=>{j(c,a())}),M(()=>v(c),()=>{Object.assign(v(c),k)}),R(),L();var w=S(),z=C(w);{var E=t=>{var g=S(),b=C(g);P(b,e,"default",{get builder(){return v(c)}},null),y(t,g)},o=t=>{var g=Ae();W(g,()=>({...v(c),alt:_(),...f})),D(g,b=>A(b),()=>A()),Y(g,b=>{var T,O;return(O=(T=v(c)).action)==null?void 0:O.call(T,b)}),te(g),y(t,g)};Q(z,t=>{h()?t(E):t(o,!1)})}y(s,w),x(),i()}var Se=I("<span><!></span>");function Ce(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["asChild","el"]);p(e,!1);const a=()=>Z(_,"$fallback",d),[d,i]=ee(),l=q();let c=u(e,"asChild",8,!1),r=u(e,"el",28,()=>{});const{elements:{fallback:_},getAttrs:h}=he(),A=h("fallback");M(()=>a(),()=>{j(l,a())}),M(()=>v(l),()=>{Object.assign(v(l),A)}),R(),L();var k=S(),w=C(k);{var z=o=>{var t=S(),g=C(t);P(g,e,"default",{get builder(){return v(l)}},null),y(o,t)},E=o=>{var t=Se();W(t,()=>({...v(l),...f}));var g=V(t);P(g,e,"default",{get builder(){return v(l)}},null),X(t),D(t,b=>r(b),()=>r()),Y(t,b=>{var T,O;return(O=(T=v(l)).action)==null?void 0:O.call(T,b)}),y(o,t)};Q(w,o=>{c()?o(z):o(E,!1)})}y(s,k),x(),i()}function ze(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class"]);p(e,!1);let a=u(e,"class",8,void 0);L();{let d=U(()=>($(N),$(a()),B(()=>N("bg-muted flex h-full w-full items-center justify-center rounded-full",a()))));Ce(s,F({get class(){return v(d)}},()=>f,{children:(i,l)=>{var c=S(),r=C(c);P(r,e,"default",{},null),y(i,c)},$$slots:{default:!0}}))}x()}function Ee(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","src","alt"]);p(e,!1);let a=u(e,"class",8,void 0),d=u(e,"src",8,void 0),i=u(e,"alt",8,void 0);L();{let l=U(()=>($(N),$(a()),B(()=>N("aspect-square h-full w-full",a()))));$e(s,F({get src(){return d()},get alt(){return i()},get class(){return v(l)}},()=>f))}x()}function Te(s,e){const n=m(e,["children","$$slots","$$events","$$legacy"]),f=m(n,["class","delayMs"]);p(e,!1);let a=u(e,"class",8,void 0),d=u(e,"delayMs",8,void 0);L();{let i=U(()=>($(N),$(a()),B(()=>N("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a()))));ye(s,F({get delayMs(){return d()},get class(){return v(i)}},()=>f,{children:(l,c)=>{var r=S(),_=C(r);P(_,e,"default",{},null),y(l,r)},$$slots:{default:!0}}))}x()}export{Te as A,ze as a,Ee as b};
