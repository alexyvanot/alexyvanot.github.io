var N=Object.defineProperty;var g=a=>{throw TypeError(a)};var x=(a,e,s)=>e in a?N(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var y=(a,e,s)=>x(a,typeof e!="symbol"?e+"":e,s),E=(a,e,s)=>e.has(a)||g("Cannot "+s);var t=(a,e,s)=>(E(a,e,"read from private field"),s?s.call(a):e.get(a)),u=(a,e,s)=>e.has(a)?g("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,s),A=(a,e,s,i)=>(E(a,e,"write to private field"),i?i.call(a,s):e.set(a,s),s);import{ah as S,ai as B,aj as k,ak as C,al as T,am as R,q as w,an as D,ao as I,ap as q,w as L,v as O,E as P,aq as j,ar as H,as as U,at as V,au as F}from"./d5Tidgo0.js";var d,l,n,_,v,m,b;class Y{constructor(e,s=!0){y(this,"anchor");u(this,d,new Map);u(this,l,new Map);u(this,n,new Map);u(this,_,new Set);u(this,v,!0);u(this,m,()=>{var e=S;if(t(this,d).has(e)){var s=t(this,d).get(e),i=t(this,l).get(s);if(i)B(i),t(this,_).delete(s);else{var c=t(this,n).get(s);c&&(t(this,l).set(s,c.effect),t(this,n).delete(s),c.fragment.lastChild.remove(),this.anchor.before(c.fragment),i=c.effect)}for(const[f,r]of t(this,d)){if(t(this,d).delete(f),f===e)break;const h=t(this,n).get(r);h&&(k(h.effect),t(this,n).delete(r))}for(const[f,r]of t(this,l)){if(f===s||t(this,_).has(f))continue;const h=()=>{if(Array.from(t(this,d).values()).includes(f)){var p=document.createDocumentFragment();I(r,p),p.append(T()),t(this,n).set(f,{effect:r,fragment:p})}else k(r);t(this,_).delete(f),t(this,l).delete(f)};t(this,v)||!i?(t(this,_).add(f),C(r,h,!1)):h()}}});u(this,b,e=>{t(this,d).delete(e);const s=Array.from(t(this,d).values());for(const[i,c]of t(this,n))s.includes(i)||(k(c.effect),t(this,n).delete(i))});this.anchor=e,A(this,v,s)}ensure(e,s){var i=S,c=q();if(s&&!t(this,l).has(e)&&!t(this,n).has(e))if(c){var f=document.createDocumentFragment(),r=T();f.append(r),t(this,n).set(e,{effect:R(()=>s(r)),fragment:f})}else t(this,l).set(e,R(()=>s(this.anchor)));if(t(this,d).set(i,e),c){for(const[h,o]of t(this,l))h===e?i.skipped_effects.delete(o):i.skipped_effects.add(o);for(const[h,o]of t(this,n))h===e?i.skipped_effects.delete(o.effect):i.skipped_effects.add(o.effect);i.oncommit(t(this,m)),i.ondiscard(t(this,b))}else w&&(this.anchor=D),t(this,m).call(this)}}d=new WeakMap,l=new WeakMap,n=new WeakMap,_=new WeakMap,v=new WeakMap,m=new WeakMap,b=new WeakMap;function K(a,e,s=!1){w&&O();var i=new Y(a),c=s?P:0;function f(r,h){if(w){const p=j(a)===H;if(r===p){var o=U();V(o),i.anchor=o,F(!1),i.ensure(r,h),F(!0);return}}i.ensure(r,h)}L(()=>{var r=!1;e((h,o=!0)=>{r=!0,f(o,h)}),r||f(!1,null)},c)}const z="5";var M;typeof window<"u"&&((M=window.__svelte??(window.__svelte={})).v??(M.v=new Set)).add(z);export{Y as B,K as i};
