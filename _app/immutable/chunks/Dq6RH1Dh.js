import{aN as u,aw as v,aO as b}from"./CIV_PSYU.js";import{w as L}from"./BnTzA4Es.js";function P(n){const t={};return Object.keys(n).forEach(s=>{const e=s,o=n[e];t[e]=L(u(o))}),t}function Q(n){const t={};for(const s in n){const e=n[s];e!==void 0&&(t[s]=e)}return t}function B(n){return function(t,s){if(s===void 0)return;const e=n[t];e&&e.set(s)}}let g,y;function k(n){if(typeof document>"u")return;clearTimeout(g),clearTimeout(y);const t=document.createElement("style"),s=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);t.appendChild(s);const e=()=>document.head.appendChild(t),o=()=>document.head.removeChild(t);if(typeof window.getComputedStyle<"u"){e(),n(),window.getComputedStyle(t).opacity,o();return}if(typeof window.requestAnimationFrame<"u"){e(),n(),window.requestAnimationFrame(o);return}e(),g=window.setTimeout(()=>{n(),y=window.setTimeout(o,120)},120)}function w(n){return n.filter(t=>t.length>0)}const S={getItem:n=>null,setItem:(n,t)=>{}},l=typeof document<"u",T=["dark","light","system"],C=u("mode-watcher-mode"),M=u("mode-watcher-theme"),V=q(),N=D(),A=u(void 0),I=z(),E=u(!0),K=u([]),_=u([]),G=O(),W=U();function q(){const n="system",t=l?localStorage:S,s=t.getItem(o());let e=p(s)?s:n;function o(){return v(C)}const{subscribe:d,set:r}=u(e,()=>{if(!l)return;const i=c=>{if(c.key!==o())return;const f=c.newValue;p(f)?r(e=f):r(e=n)};return addEventListener("storage",i),()=>removeEventListener("storage",i)});function a(i){r(e=i),t.setItem(o(),e)}return{subscribe:d,set:a}}function z(){const n=l?localStorage:S,t=n.getItem(e());let s=t??"";function e(){return v(M)}const{subscribe:o,set:d}=u(s,()=>{if(!l)return;const a=i=>{if(i.key!==e())return;const c=i.newValue;d(c===null?s="":s=c)};return addEventListener("storage",a),()=>removeEventListener("storage",a)});function r(a){d(s=a),n.setItem(e(),s)}return{subscribe:o,set:r}}function D(){let t=!0;const{subscribe:s,set:e}=u(void 0,()=>{if(!l)return;const r=i=>{t&&e(i.matches?"light":"dark")},a=window.matchMedia("(prefers-color-scheme: light)");return a.addEventListener("change",r),()=>a.removeEventListener("change",r)});function o(){if(!l)return;const r=window.matchMedia("(prefers-color-scheme: light)");e(r.matches?"light":"dark")}function d(r){t=r}return{subscribe:s,query:o,tracking:d}}function O(){const{subscribe:n}=b([V,N,A,E,K,_],([t,s,e,o,d,r])=>{if(!l)return;const a=t==="system"?s:t,i=w(d),c=w(r);function f(){const m=document.documentElement,h=document.querySelector('meta[name="theme-color"]');a==="light"?(i.length&&m.classList.remove(...i),c.length&&m.classList.add(...c),m.style.colorScheme="light",h&&e&&h.setAttribute("content",e.light)):(c.length&&m.classList.remove(...c),i.length&&m.classList.add(...i),m.style.colorScheme="dark",h&&e&&h.setAttribute("content",e.dark))}return o?k(f):f(),a});return{subscribe:n}}function U(){const{subscribe:n}=b([I,E],([t,s])=>{if(!l)return;function e(){document.documentElement.setAttribute("data-theme",t)}return s?k(e):e(),t});return{subscribe:n}}function p(n){return typeof n!="string"?!1:T.includes(n)}export{I as a,W as b,E as c,G as d,A as e,K as f,B as g,M as h,p as i,_ as l,C as m,Q as r,N as s,P as t,V as u};
